(window.webpackJsonp=window.webpackJsonp||[]).push([[178,17,23],{358:function(t,e,n){"use strict";n.r(e);var o={props:["label","type","id","autofocus","width","value"],data:function(){return{on_focus:!1,style:{height:40},input:{style:{},model:""}}},methods:{updateInput:function(){this.$emit("input",this.$refs.cinput.value)},focusInput:function(){this.$refs.cinput.focus()}},mounted:function(){},created:function(){}},l=n(7),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:t.input.style},[n("div",{staticClass:"text-xs duration-300 flex items-center font-bold h-4"},[n("label",{staticClass:"z-10 px-1 text-indigo-600",attrs:{for:t.id}},[t._v(" "+t._s(t.label)+" ")])]),t._v(" "),n("input",{ref:"cinput",staticClass:"input-alt w-full duration-300 text-xs",attrs:{autofocus:t.autofocus,id:t.id,type:t.type,placeholder:t.label},domProps:{value:t.value},on:{input:function(e){return t.updateInput()},focus:function(){t.on_focus=!0,t.$emit("focus")},blur:function(){t.on_focus=!1,t.$emit("blur")}}})])}),[],!1,null,"a221d83e",null);e.default=component.exports},359:function(t,e,n){var content=n(361);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(27).default)("2d1dc0a2",content,!0,{sourceMap:!1})},360:function(t,e,n){"use strict";n(359)},361:function(t,e,n){var o=n(26)((function(i){return i[1]}));o.push([t.i,"/*purgecss start ignore*/\n.fade-enter-active,.fade-leave-active{\n  transition:opacity .3s\n}\n.fade-enter,.fade-leave-to{\n  opacity:0\n}\n\n/*purgecss end ignore*/",""]),o.locals={},t.exports=o},362:function(t,e,n){"use strict";n.r(e);var o={props:["value","datas","label","code","placeholder","padding","width"],watch:{datas:function(a){this.$emit("input",void 0===a[0]?null:a[0][this.code])}},data:function(){return{}},methods:{updateInput:function(){this.$emit("input",this.$refs.cinput.value)}},mounted:function(){}},l=(n(360),n(7)),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"relative flex flex-col"},[t.placeholder?n("div",{staticClass:"text-xs duration-300 flex items-center font-bold",class:t.datas.length>0?" h-4":"h-0"},[t.datas.length>0?n("label",{staticClass:"z-10 px-1 text-indigo-600"},[t._v(" "+t._s(t.placeholder)+" ")]):t._e()]):t._e(),t._v(" "),n("div",[n("select",{ref:"cinput",staticClass:"input-alt w-full duration-300 text-xs",on:{change:function(e){return t.updateInput()}}},t._l(t.datas,(function(e){return n("option",{key:e[t.code],domProps:{value:e[t.code],selected:t.value==e[void 0===t.code?"code":t.code]}},[t._v(" "+t._s(e[void 0===t.label?"label":t.label])+" ")])})),0)])])}),[],!1,null,null,null);e.default=component.exports},536:function(t,e,n){"use strict";n.r(e);var o=n(3),l=(n(25),{layout:"login",data:function(){return{ins:{step:2,cur_step:1,models:{society:"",adresse:"",email_soc:"",nif:"",stat:"",login:"",pass:"",c_pass:"",soc_type:"ann"}},list_choice_type:[{label:"Annonceur",code:"ann"},{label:"Regisseur",code:"reg"}],load:!1,register_finish:!1}},methods:{post_inscription:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.$post("api/p/inscription",t.ins.models);case 3:(n=e.sent).status?(t.register_finish=!0,t.showNotif("Inscription","Compte en attente de validation."),t.$store.commit("status/set",!0),t.$store.commit("profil/add",n.pr)):t.showNotif("Erreur de l'inscription !",n.message,!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.showNotif("Erreur réseau","Erreur de connexion",!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}},mounted:function(){this.$store.state.status.connect?this.$router.push("/"):this.load=!0}}),c=n(7),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.load?o("div",{staticClass:" bg-gradient-to-br from-indigo-200 via-gray-100 to-gray-100"},[o("div",{staticClass:"w-screen top-5 left-5 text-2xl fixed"},[o("NuxtLink",{staticClass:"hover:border-b flex items-center",attrs:{to:"/"}},[o("img",{staticClass:"rounded-lg mr-2 border",attrs:{alt:"",src:n(64),srcset:"",width:"50",height:"50"}}),t._v(" "),o("span",[t._v("Publoc")])])],1),t._v(" "),t.register_finish?t._e():o("div",{staticClass:"h-16"}),t._v(" "),t.register_finish?o("div",{staticClass:" w-full h-screen flex justify-center items-center text-gray-600"},[o("div",{staticClass:"flex flex-col border rounded-lg p-5 shadow-lg bg-gray-50",staticStyle:{width:"500px"}},[o("span",{staticClass:"block"},[t._v("Inscription Réussi, Votre compte est en attente de validation. \n\t\t\t\t\tVous recervez une notification "),o("nuxt-link",{staticClass:"text-indigo-600",attrs:{to:"/"+("ann"==t.ins.models.soc_type?"a":"r")+"/notifications"}},[t._v(" ici ")]),t._v(" quand il sera prêt.")],1),t._v(" "),o("div",{staticClass:"flex"},[o("span",{staticClass:"flex-grow"}),t._v(" "),o("button",{staticClass:"bt",on:{click:function(e){return t.$router.push("/")}}},[t._v(" OK, vers l'accueil ")])])])]):o("div",{staticClass:"flex justify-center"},[o("div",{style:{width:"350px"}},[o("form",{attrs:{action:"/",method:"post"},on:{submit:function(e){return e.preventDefault(),t.post_inscription()}}},[o("div",{},[o("div",{staticClass:"flex flex-col text-sm"},[o("div",{staticClass:"flex justify-center border-b p-2 items-center "},[o("span",{staticClass:"mx-1"},[t._v("Vous avez déja un compte ? ")]),t._v(" "),o("NuxtLink",{staticClass:"text-indigo-600 font-bold mx-1",attrs:{to:"/login"}},[t._v("Connecter vous")])],1),t._v(" "),o("div",{staticClass:"flex flex-col mt-5"},[o("c-select",{attrs:{label:"label",placeholder:"Regisseu ou Annonceur ...",code:"code",datas:t.list_choice_type,width:"100%"},model:{value:t.ins.models.soc_type,callback:function(e){t.$set(t.ins.models,"soc_type",e)},expression:"ins.models.soc_type"}})],1),t._v(" "),o("div",{staticClass:"mb-10 mt-2"},[o("span",{staticClass:"block font-bold p-2 mb-2 bg-indigo-600 rounded text-gray-100"},[t._v(" Apropos de votre société   ")]),t._v(" "),o("custom-input",{staticClass:"mb-2",attrs:{label:"Nom de votre Société ..."},model:{value:t.ins.models.society,callback:function(e){t.$set(t.ins.models,"society",e)},expression:"ins.models.society"}}),t._v(" "),o("custom-input",{staticClass:"mb-2",attrs:{type:"text",label:"Adresse *"},model:{value:t.ins.models.adresse,callback:function(e){t.$set(t.ins.models,"adresse",e)},expression:"ins.models.adresse"}}),t._v(" "),o("custom-input",{staticClass:"mb-2",attrs:{type:"text",label:"NIF (Facultatif)"},model:{value:t.ins.models.nif,callback:function(e){t.$set(t.ins.models,"nif",e)},expression:"ins.models.nif"}}),t._v(" "),o("custom-input",{staticClass:"mb-2",attrs:{type:"text",label:"STAT (Facultatif)"},model:{value:t.ins.models.stat,callback:function(e){t.$set(t.ins.models,"stat",e)},expression:"ins.models.stat"}}),t._v(" "),o("custom-input",{staticClass:"mb-2",attrs:{type:"text",label:"Email de la société"},model:{value:t.ins.models.email_soc,callback:function(e){t.$set(t.ins.models,"email_soc",e)},expression:"ins.models.email_soc"}})],1),t._v(" "),o("div",{},[o("span",{staticClass:"block font-bold p-2 mb-2 bg-indigo-600 rounded text-gray-100"},[t._v(" Vos informations de connexion ")]),t._v(" "),o("custom-input",{staticClass:"mb-2",attrs:{type:"text",label:"Login de connexion *"},model:{value:t.ins.models.login,callback:function(e){t.$set(t.ins.models,"login",e)},expression:"ins.models.login"}}),t._v(" "),o("custom-input",{staticClass:"mb-2",attrs:{type:"password",label:"Mot de passe *"},model:{value:t.ins.models.pass,callback:function(e){t.$set(t.ins.models,"pass",e)},expression:"ins.models.pass"}}),t._v(" "),o("custom-input",{staticClass:"mb-2",attrs:{type:"password",label:"Confirmation Mot de passe *"},model:{value:t.ins.models.c_pass,callback:function(e){t.$set(t.ins.models,"c_pass",e)},expression:"ins.models.c_pass"}})],1)])]),t._v(" "),t._m(0)])])]),t._v(" "),o("div",{staticClass:"h-16"})]):o("div",{staticClass:"w-screen h-screen flex justify-center items-center"},[o("span",{staticClass:"text-xl"},[t._v("Chargement ... ")])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex pt-2 border-t dark:border-gray-600"},[n("div",{}),t._v(" "),n("div",{staticClass:"flex-grow"}),t._v(" "),n("div",{},[n("button",{staticClass:"bt"},[t._v(" S'inscrire ")])])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{CSelect:n(362).default,CustomInput:n(358).default})}}]);