(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{365:function(t,e,r){var content=r(369);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(27).default)("76a25175",content,!0,{sourceMap:!1})},368:function(t,e,r){"use strict";r(365)},369:function(t,e,r){var n=r(26)((function(i){return i[1]}));n.push([t.i,"/*purgecss start ignore*/\n#map[data-v-1beb3618]{\n  height:450px\n}\n\n/*purgecss end ignore*/",""]),n.locals={},t.exports=n},371:function(t,e,r){"use strict";r.r(e);var n=r(3),c=(r(25),r(61),r(62),r(21),r(99),r(363)),o=r.n(c),l=(r(376),r(377),{props:["data_carte"],data:function(){return{mymap:{},origin_view:[-18.929670491513264,47.52685546875001],accessToken:"pk.eyJ1IjoiYW5nZWxvMTQyNyIsImEiOiJja3c0aGExMTIwNmp0Mm9udnY2bGNsZnRoIn0.PiJCKKLMoWzmULCaFs2CqA",layerGroup:{},d_carte:{lat:0,lng:0,region:"",ville:"",quartier:"",pays:""},d:["lat","lng","region","ville","quartier","pays"]}},methods:{initMap:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.mymap=o.a.map("map").setView(t.origin_view,16),o.a.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:"pk.eyJ1IjoiYW5nZWxvMTQyNyIsImEiOiJja3c0aGExMTIwNmp0Mm9udnY2bGNsZnRoIn0.PiJCKKLMoWzmULCaFs2CqA"}).addTo(t.mymap),t.layerGroup=o.a.layerGroup().addTo(t.mymap),o.a.Control.geocoder({defaultMarkGeocode:!1}).addTo(t.mymap).on("markgeocode",(function(e){t.getLocation(e.geocode.center),t.d_carte.lat=e.geocode.center.lat,t.d_carte.lng=e.geocode.center.lng,t.mymap.setView([t.d_carte.lat,t.d_carte.lng]),t.layerGroup.clearLayers(),o.a.marker([t.d_carte.lat,t.d_carte.lng]).addTo(t.layerGroup)})),t.mymap.on("click",(function(e){t.d_carte.lat=e.latlng.lat,t.d_carte.lng=e.latlng.lng,t.layerGroup.clearLayers(),o.a.marker([t.d_carte.lat,t.d_carte.lng]).addTo(t.layerGroup),t.getLocation(e.latlng)}));case 5:case"end":return e.stop()}}),e)})))()},getLocation:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,c,i,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.d_carte.region="",e.d_carte.pays="",e.d_carte.ville="",e.d_carte.quartier="",r.prev=1,r.next=4,e.$axios.$get("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(t.lng,",").concat(t.lat,".json?access_token=").concat(e.accessToken));case 4:n=r.sent,console.log(n),c=n.features,i=1;case 8:if(!(i<c.length)){r.next=25;break}o=c[i].id.split(".")[0],r.t0=o,r.next="locality"===r.t0?13:"place"===r.t0?15:"region"===r.t0?17:"country"===r.t0?19:21;break;case 13:return e.d_carte.quartier=c[i].text,r.abrupt("break",22);case 15:return e.d_carte.ville=c[i].text,r.abrupt("break",22);case 17:return e.d_carte.region=c[i].text,r.abrupt("break",22);case 19:return e.d_carte.pays=c[i].text,r.abrupt("break",22);case 21:return r.abrupt("break",22);case 22:i++,r.next=8;break;case 25:r.next=30;break;case 27:r.prev=27,r.t1=r.catch(1),console.log(r.t1);case 30:case"end":return r.stop()}}),r,null,[[1,27]])})))()},setDataCarte:function(){this.$emit("validate",this.d_carte),this.$emit("close")}},mounted:function(){this.initMap()}}),d=(r(368),r(7)),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"w-screen h-screen bg-white bg-opacity-70 fixed top-0 left-0 flex justify-center items-center",staticStyle:{"z-index":"1010"}},[r("div",{staticClass:"rounded-lg flex bg-gray-100",staticStyle:{height:"80%",width:"80%"}},[r("button",{staticClass:"absolute top-5 right-5 bt-prev-next",on:{click:function(e){return t.$emit("close")}}},[r("span",{staticClass:"material-icons"},[t._v(" clear ")])]),t._v(" "),r("div",{staticStyle:{height:"100%",width:"70%","border-radius":"8px"},attrs:{id:"map"}}),t._v(" "),r("div",{staticClass:"flex flex-col p-5 ",staticStyle:{width:"30%"}},[t._l(t.d,(function(p,i){return r("div",{key:i,staticClass:"flex flex-col"},[r("span",{staticClass:"text-sm font-bold"},[t._v(" "+t._s(p)+" ")]),t._v(" "),r("span",{staticClass:"text-xl"},[t._v(" "+t._s(t.d_carte[p])+" ")])])})),t._v(" "),r("div",{staticClass:"p-5 flex justify-end w-full"},[r("button",{staticClass:"flex justify-center items-center bt",on:{click:t.setDataCarte}},[r("span",{staticClass:"text-sm"},[t._v(" Valider ")]),t._v(" "),r("span",{staticClass:"material-icons"},[t._v(" navigate_next ")])])])],2)])])}),[],!1,null,"1beb3618",null);e.default=component.exports}}]);