(window.webpackJsonp=window.webpackJsonp||[]).push([[132,23],{358:function(t,e,r){"use strict";r.r(e);var n={props:["label","type","id","autofocus","width","value"],data:function(){return{on_focus:!1,style:{height:40},input:{style:{},model:""}}},methods:{updateInput:function(){this.$emit("input",this.$refs.cinput.value)},focusInput:function(){this.$refs.cinput.focus()}},mounted:function(){},created:function(){}},o=r(7),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{style:t.input.style},[r("div",{staticClass:"text-xs duration-300 flex items-center font-bold h-4"},[r("label",{staticClass:"z-10 px-1 text-indigo-600",attrs:{for:t.id}},[t._v(" "+t._s(t.label)+" ")])]),t._v(" "),r("input",{ref:"cinput",staticClass:"input-alt w-full duration-300 text-xs",attrs:{autofocus:t.autofocus,id:t.id,type:t.type,placeholder:t.label},domProps:{value:t.value},on:{input:function(e){return t.updateInput()},focus:function(){t.on_focus=!0,t.$emit("focus")},blur:function(){t.on_focus=!1,t.$emit("blur")}}})])}),[],!1,null,"a221d83e",null);e.default=component.exports},577:function(t,e,r){"use strict";r.r(e);var n=r(3),o=(r(25),{watch:{id_cur:function(a){a?(this.pr.login=this.pr_cur.pr_login,this.pr.pass=""):this.reset()}},data:function(){return{pr:{login:"",pass:"",sp_assurance:!1},list:[],id_cur:null,pr_cur:{}}},methods:{get_list_solarpro:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.$get("api/a/solarpro/list");case 3:(r=e.sent).status?t.list=r.list:t.showNotif("Erreur",r.message,!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.showErrorConnexion();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},addSolarpro:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.$post("api/a/solarpro",t.pr);case 3:(r=e.sent).status?(t.get_list_solarpro(),t.reset()):t.showNotif("Erreur",r.message,!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.showErrorConnexion();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},updateSolarpro:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.$put("api/a/solarpro",{pr:t.pr,old_pr:t.pr_cur});case 3:(r=e.sent).status?(t.get_list_solarpro(),t.reset()):t.showNotif("Erreur",r.message,!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.showErrorConnexion();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},delSolarpro:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$axios.$delete("api/a/solarpro/"+t);case 3:(n=r.sent).status?(e.get_list_solarpro(),e.reset()):e.showNotif("Erreur",n.message,!0),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),e.showErrorConnexion();case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()},reset:function(){this.pr={login:"",pass:""},this.id_cur=null}},mounted:function(){this.get_list_solarpro(),this.reset()}}),l=r(7),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"p-2"},[t._m(0),t._v(" "),r("div",{staticClass:"flex mt-2"},[r("div",{staticClass:"pr-5 border-r"},[r("custom-input",{staticClass:"mb-2",attrs:{label:"Login Solarpro "},model:{value:t.pr.login,callback:function(e){t.$set(t.pr,"login",e)},expression:"pr.login"}}),t._v(" "),r("div",{}),t._v(" "),r("custom-input",{staticClass:"mb-2",attrs:{label:"Mot de passe Solarpro ",type:"password"},model:{value:t.pr.pass,callback:function(e){t.$set(t.pr,"pass",e)},expression:"pr.pass"}}),t._v(" "),r("div",{staticClass:"flex"},[r("span",{staticClass:"flex-grow"}),t._v(" "),r("button",{staticClass:"text-sm bt",on:{click:function(){t.id_cur?t.updateSolarpro():t.addSolarpro()}}},[t._v(" "+t._s(null!=t.id_cur?"Modifier":"Ajouter")+" ")])])],1),t._v(" "),r("div",{staticClass:"pl-5"},[t.list.length>0?r("div",{staticClass:"flex"},t._l(t.list,(function(e){return r("div",{key:e.sp_id,staticClass:"m-2 cursor-pointer hover:bg-gray-100 flex flex-col rounded border p-2 relative",class:{"border-indigo-600":t.id_cur==e.sp_id},on:{click:function(){t.id_cur=t.id_cur==e.sp_id?null:e.sp_id,t.pr_cur=e}}},[r("button",{staticClass:"bt-prev-next absolute -top-2 -right-2",on:{click:function(r){return t.delSolarpro(e.sp_id)}}},[r("span",{staticClass:"material-icons"},[t._v("clear")])]),t._v(" "),r("span",{},[t._v(" "+t._s(e.pr_login)+" ")])])})),0):r("div",{},[r("span",{},[t._v(" La liste de login accès solarpro est vide ")])])])])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"border-b p-2 "},[r("span",{staticClass:"text-xl"},[t._v(" Gestion accès Solarpro ")])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{CustomInput:r(358).default})}}]);