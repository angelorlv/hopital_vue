(window.webpackJsonp=window.webpackJsonp||[]).push([[165],{526:function(t,e,n){"use strict";n.r(e);var r=n(3),o=(n(25),{data:function(){return{notifs:[]}},methods:{getListNotifs:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.load=!1,e.next=4,t.$axios.$get("api/a/regisseur/notifs");case 4:(n=e.sent).status?t.notifs=n.notifs:t.showNotif("Ereur","Impossible de récupérer les données de de notifications"),t.load=!0,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t.showErrorConnexion();case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},deleteNotif:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$axios.$delete("api/a/regisseur/notifs/"+t);case 3:n.sent.status?(e.getListNotifs(),e.showNotif("Suppression de notification","La notification a été bien supprimer")):e.showNotif("Ereur","Impossible de supprimer la notification"),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),e.showErrorConnexion();case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()}},mounted:function(){this.getListNotifs(),this.setVuAllNotif()}}),c=n(7),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.load?n("div",{staticClass:"flex justify-center items-center w-full"},[t.notifs.length>0?n("div",{staticClass:"flex flex-col  justify-center items-center"},t._l(t.notifs,(function(e){return n("div",{key:e.notif_id,staticClass:"rounded-lg bg-gray-50 border my-2",staticStyle:{width:"500px"}},[n("div",{staticClass:"bg-gay-100 px-2 py-1 font-bold border-b"},[n("span",{},[t._v(" "+t._s(e.notif_title)+" ")])]),t._v(" "),n("div",{staticClass:"px-2 py-1 text-sm"},[n({template:e.notif_desc},{tag:"component"})],1),t._v(" "),n("div",{staticClass:"py-1 border-t px-2 flex "},[n("button",{staticClass:"bt text-xs",on:{click:function(n){return t.deleteNotif(e.notif_id)}}},[t._v(" Supprimer ")]),t._v(" "),n("span",{staticClass:"flex-grow"}),t._v(" "),n("span",{staticClass:"text-sm font-bold"},[t._v(" "+t._s(t.dateBetweenNow(e.date_notif))+" ")])])])})),0):n("div",{staticClass:"flex w-full h-screen justify-center items-center"},[n("div",{staticClass:"h-48"}),t._v(" "),t._m(0)])]):n("div",{staticClass:"flex w-full justify-center items-center"},[n("div",{staticClass:"h-48"}),t._v(" "),t._m(1)])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("span",{staticClass:"text-xl"},[t._v("Aucune notification à afficher ...")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("span",{staticClass:"text-xl"},[t._v("Chargement ...")])])}],!1,null,null,null);e.default=component.exports}}]);