(window.webpackJsonp=window.webpackJsonp||[]).push([[143,17,23],{358:function(e,t,l){"use strict";l.r(t);var n={props:["label","type","id","autofocus","width","value"],data:function(){return{on_focus:!1,style:{height:40},input:{style:{},model:""}}},methods:{updateInput:function(){this.$emit("input",this.$refs.cinput.value)},focusInput:function(){this.$refs.cinput.focus()}},mounted:function(){},created:function(){}},r=l(7),component=Object(r.a)(n,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{style:e.input.style},[l("div",{staticClass:"text-xs duration-300 flex items-center font-bold h-4"},[l("label",{staticClass:"z-10 px-1 text-indigo-600",attrs:{for:e.id}},[e._v(" "+e._s(e.label)+" ")])]),e._v(" "),l("input",{ref:"cinput",staticClass:"input-alt w-full duration-300 text-xs",attrs:{autofocus:e.autofocus,id:e.id,type:e.type,placeholder:e.label},domProps:{value:e.value},on:{input:function(t){return e.updateInput()},focus:function(){e.on_focus=!0,e.$emit("focus")},blur:function(){e.on_focus=!1,e.$emit("blur")}}})])}),[],!1,null,"a221d83e",null);t.default=component.exports},359:function(e,t,l){var content=l(361);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(27).default)("2d1dc0a2",content,!0,{sourceMap:!1})},360:function(e,t,l){"use strict";l(359)},361:function(e,t,l){var n=l(26)((function(i){return i[1]}));n.push([e.i,"/*purgecss start ignore*/\n.fade-enter-active,.fade-leave-active{\n  transition:opacity .3s\n}\n.fade-enter,.fade-leave-to{\n  opacity:0\n}\n\n/*purgecss end ignore*/",""]),n.locals={},e.exports=n},362:function(e,t,l){"use strict";l.r(t);var n={props:["value","datas","label","code","placeholder","padding","width"],watch:{datas:function(a){this.$emit("input",void 0===a[0]?null:a[0][this.code])}},data:function(){return{}},methods:{updateInput:function(){this.$emit("input",this.$refs.cinput.value)}},mounted:function(){}},r=(l(360),l(7)),component=Object(r.a)(n,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"relative flex flex-col"},[e.placeholder?l("div",{staticClass:"text-xs duration-300 flex items-center font-bold",class:e.datas.length>0?" h-4":"h-0"},[e.datas.length>0?l("label",{staticClass:"z-10 px-1 text-indigo-600"},[e._v(" "+e._s(e.placeholder)+" ")]):e._e()]):e._e(),e._v(" "),l("div",[l("select",{ref:"cinput",staticClass:"input-alt w-full duration-300 text-xs",on:{change:function(t){return e.updateInput()}}},e._l(e.datas,(function(t){return l("option",{key:t[e.code],domProps:{value:t[e.code],selected:e.value==t[void 0===e.code?"code":e.code]}},[e._v(" "+e._s(t[void 0===e.label?"label":e.label])+" ")])})),0)])])}),[],!1,null,null,null);t.default=component.exports},505:function(e,t,l){"use strict";l.r(t);var n=l(3),r=(l(25),{layout:"espace_agt",watch:{"filters.page":function(a){this.getListPanel()}},data:function(){return{panels:[],search:null,label_list:[{label:"Réf Régisseur",key:"pan_ref"},{label:"Réf publoc",key:"pan_publoc_ref"},{label:"Surface",key:"pan_surface"},{label:"Régisseur",key:"reg_label"},{label:"Annonceur",key:"ann_label"},{label:"Ville",key:"lieu_ville"},{label:"Disponibilité",key:"pan_state"}],filter_search:[{label:"Annon"}],filters:{limit:200,page:1,col_search:"",search_label:""},nb_panel_total:0,list_page:[{label:"1",code:1}],list_col_search:[{label:"Réf Regisseur",code:"pan_ref"},{label:"Réf Publoc",code:"pan_publoc_ref"},{label:"Ville",code:"lieu_ville"},{label:"Quartier",code:"lieu_quartier"},{label:"Région",code:"lieu_region"},{label:"Annonceur",code:"ann_label"},{label:"Régisseur",code:"reg_label"}]}},methods:{getListPanel:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var l,n,r,c,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.$get("api/a/mobile/panel/filters",{params:e.filters});case 3:if((l=t.sent).status){for(n=e.nb_panel_total,e.panels=l.panels,e.nb_panel_total=l.nb_panel_total,r=Math.ceil(e.nb_panel_total/e.filters.limit),c=[],i=1;i<=r;i++)c.push({label:i,code:i});n==l.nb_panel_total&&0!=n||(e.list_page=c)}else e.showNotif();t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.showErrorConnexion();case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},mounted:function(){this.getListPanel()}}),c=l(7),component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"flex justify-center items-center w-full mx-2"},[l("div",{}),e._v(" "),l("div",{staticClass:"text-sm flex flex-col items-center justify-center w-full border border-red-500"},[l("div",{staticClass:" p-2 my-2 border rounded flex items-end "},[l("div",{staticClass:" mx-2 flex items-end"},[l("div",{staticClass:"p-2"},[l("span",[e._v(" "+e._s(e.nb_panel_total==e.panels.length?e.nb_panel_total:e.filters.limit*e.filters.page)+" sur "+e._s(e.nb_panel_total)+" ")])]),e._v(" "),l("c-select",{attrs:{datas:e.list_page,label:"label",code:"code",placeholder:"Page"},model:{value:e.filters.page,callback:function(t){e.$set(e.filters,"page",t)},expression:"filters.page"}})],1),e._v(" "),l("div",{staticClass:"flex items-end"},[l("custom-input",{attrs:{label:"Rechercher ..."},model:{value:e.filters.search_label,callback:function(t){e.$set(e.filters,"search_label",t)},expression:"filters.search_label"}}),e._v(" "),l("c-select",{staticClass:"ml-1",attrs:{label:"label",code:"code",placeholder:"Par",datas:e.list_col_search},model:{value:e.filters.col_search,callback:function(t){e.$set(e.filters,"col_search",t)},expression:"filters.col_search"}})],1),e._v(" "),l("div",{staticClass:"flex items-end mx-2"},[l("button",{staticClass:"flex items-center justify-center p-1  bg-blue-500 text-white rounded"},[l("span",{staticClass:"material-icons",on:{click:e.getListPanel}},[e._v(" search ")])])])]),e._v(" "),l("div",{staticClass:"border rounded-lg p-2 w-full"},[l("table",{staticClass:"w-full text-left table-auto text-sm"},[l("thead",{staticClass:"rounded-t"},[l("tr",{staticClass:"bg-gray-50 text-gray-700 sticky top-5"},e._l(e.label_list,(function(t){return l("th",{key:t.key,staticClass:"p-2"},[e._v(" "+e._s(t.label)+" ")])})),0)]),e._v(" "),l("tbody",e._l(e.panels,(function(p){return l("tr",{key:p.pan_id,staticClass:"border-b"},e._l(e.label_list,(function(t){return l("td",{key:t.key,staticClass:"p-2 "},["pan_ref"==t.key?l("nuxt-link",{staticClass:"flex items-center hover:underline",attrs:{to:"/agt/panneau?p_id="+p.pan_id}},[l("span",{staticClass:"text-sm material-icons mr-1"},[e._v(" link ")]),e._v(" "),l("span",{staticClass:"mr-1"},[e._v(e._s(p.pan_ref))]),e._v(" "),p.pan_validation?l("span",{staticClass:"text-sm material-icons  text-blue-500"},[e._v(" check_circle ")]):e._e()]):"pan_state"==t.key?l("div",{},[1==p.pan_state||2==p.pan_state?l("div",{staticClass:"flex items-center"},[l("span",{staticClass:"mr-2"},[e._v("Dispo")]),e._v(" "),l("span",{staticClass:"flex-grow"}),e._v(" "),l("span",{staticClass:"block rounded-full w-3 h-3 cursor-pointer bg-green-600"})]):3==p.pan_state?l("div",{staticClass:"flex items-center"},[l("span",{staticClass:"mr-2"},[e._v("En location")]),e._v(" "),l("span",{staticClass:"flex-grow"}),e._v(" "),l("span",{staticClass:"block rounded-full w-3 h-3 cursor-pointer bg-blue-600"})]):4==p.pan_state?l("div",{staticClass:"flex items-center"},[l("span",{staticClass:"mr-2"},[e._v("Indispo")]),e._v(" "),l("span",{staticClass:"flex-grow"}),e._v(" "),l("span",{staticClass:"block rounded-full cursor-pointer w-3 h-3 bg-red-600"})]):e._e()]):l("span",[e._v(" "+e._s(p[t.key])+"  ")])],1)})),0)})),0)])])])])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CSelect:l(362).default,CustomInput:l(358).default})}}]);