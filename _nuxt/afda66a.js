(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{556:function(t,e,n){"use strict";n.r(e);var r=n(3),o=(n(25),{data:function(){return{locations:[],type:"all"}},methods:{getListLocations:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.$get("api/a/ad/locations",{params:{type:t.type}});case 3:(n=e.sent).status?t.locations=n.locations:t.showNotif("Erreur",n.message,!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.showErrorConnexion();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},delLocation:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$axios.$delete("api/a/ad/location/"+t);case 3:(r=n.sent).status?(e.getListLocations(),e.showNotif("Suppression de réservation","Réservation bien supprimé")):e.showNotif("Erreur",r.message,!0),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),e.showErrorConnexion();case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()}},mounted:function(){this.getListLocations()}}),c=n(7),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex justify-center items-center"},[t.locations.length>0?n("div",{staticClass:"flex flex-col mb-2 p-5 w-full lg:w-2/3"},t._l(t.locations,(function(e){return n("div",{key:e.pan_loc_id,staticClass:"rounded-lg shadow-lg border flex mb-2 w-full",class:{"border-green-600":e.pan_loc_validate&&!e.pan_loc_archive,"border-indigo-500":!e.pan_loc_validate}},[n("div",{},[e.pan_loc_reject?n("span",{staticClass:"material-icons text-red-500"},[t._v(" report ")]):t._e(),t._v(" "),e.pan_loc_validate&&!e.pan_loc_archive?n("span",{staticClass:"material-icons text-green-600"},[t._v(" check_circle ")]):t._e(),t._v(" "),e.pan_loc_archive?n("span",{staticClass:"material-icons"},[t._v(" archive ")]):t._e(),t._v(" "),e.pan_loc_validate||e.pan_loc_reject?t._e():n("span",{staticClass:"material-icons text-indigo-500"},[t._v(" report ")])]),t._v(" "),n("div",{staticClass:"w-full"},[n("div",{staticClass:"p-2"},[n("span",[t._v(" Réservation du panneau "),n("nuxt-link",{staticClass:"text-indigo-600",attrs:{to:"/admin/panneau/"+e.pan_id}},[t._v(" "+t._s(e.pan_ref)+" ")])],1)]),t._v(" "),n("div",{staticClass:"text-sm flex items-center px-2 py-1 border-t text-indigo-500 font-bold"},[n("div",[e.pan_loc_validate&&!e.pan_loc_archive?n("span",{},[t._v(" En cours de location ")]):t._e(),t._v(" "),e.pan_loc_archive?n("span",{},[t._v(" Location déjà términée ")]):t._e(),t._v(" "),e.pan_loc_validate||e.pan_loc_reject?t._e():n("span",{},[t._v(" Réservation ")]),t._v(" "),!e.pan_loc_validate&&e.pan_loc_reject?n("span",{staticClass:"text-red-500"},[t._v(" Réservation annulé ")]):t._e()]),t._v(" "),n("span",{staticClass:"flex-grow"}),t._v(" "),n("span",{},[t._v(" "+t._s(t.dateToText(e.pan_loc_reservation_date))+" ")]),t._v(" "),e.pan_loc_validate?t._e():n("button",{staticClass:"text-sm mx-2 text-red-600 bt-prev-next",attrs:{title:"Supprimer la réservation"},on:{click:function(n){return t.delLocation(e.pan_loc_id)}}},[n("span",{staticClass:"material-icons"},[t._v("clear")])])])]),t._v(" "),n("div",{staticClass:" w-10"},[n("nuxt-link",{staticClass:"w-full h-full hover:bg-indigo-600 bg-indigo-100 bg-opacity-25 hover:text-white border-l rounded-r-lg flex justify-center items-center",attrs:{to:{name:"admin-location-id",params:{id:e.pan_loc_id}}}},[n("span",{staticClass:"material-icons"},[t._v(" navigate_next ")])])],1)])})),0):n("div",{staticClass:"flex justify-center items-center p-5"},[n("span",{},[t._v(" Aucune réservation en cours ")])])])}),[],!1,null,null,null);e.default=component.exports}}]);