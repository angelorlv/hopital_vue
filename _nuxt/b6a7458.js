(window.webpackJsonp=window.webpackJsonp||[]).push([[122,17,23,26],{358:function(t,e,n){"use strict";n.r(e);var l={props:["label","type","id","autofocus","width","value"],data:function(){return{on_focus:!1,style:{height:40},input:{style:{},model:""}}},methods:{updateInput:function(){this.$emit("input",this.$refs.cinput.value)},focusInput:function(){this.$refs.cinput.focus()}},mounted:function(){},created:function(){}},o=n(7),component=Object(o.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:t.input.style},[n("div",{staticClass:"text-xs duration-300 flex items-center font-bold h-4"},[n("label",{staticClass:"z-10 px-1 text-indigo-600",attrs:{for:t.id}},[t._v(" "+t._s(t.label)+" ")])]),t._v(" "),n("input",{ref:"cinput",staticClass:"input-alt w-full duration-300 text-xs",attrs:{autofocus:t.autofocus,id:t.id,type:t.type,placeholder:t.label},domProps:{value:t.value},on:{input:function(e){return t.updateInput()},focus:function(){t.on_focus=!0,t.$emit("focus")},blur:function(){t.on_focus=!1,t.$emit("blur")}}})])}),[],!1,null,"a221d83e",null);e.default=component.exports},359:function(t,e,n){var content=n(361);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(27).default)("2d1dc0a2",content,!0,{sourceMap:!1})},360:function(t,e,n){"use strict";n(359)},361:function(t,e,n){var l=n(26)((function(i){return i[1]}));l.push([t.i,"/*purgecss start ignore*/\n.fade-enter-active,.fade-leave-active{\n  transition:opacity .3s\n}\n.fade-enter,.fade-leave-to{\n  opacity:0\n}\n\n/*purgecss end ignore*/",""]),l.locals={},t.exports=l},362:function(t,e,n){"use strict";n.r(e);var l={props:["value","datas","label","code","placeholder","padding","width"],watch:{datas:function(a){this.$emit("input",void 0===a[0]?null:a[0][this.code])}},data:function(){return{}},methods:{updateInput:function(){this.$emit("input",this.$refs.cinput.value)}},mounted:function(){}},o=(n(360),n(7)),component=Object(o.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"relative flex flex-col"},[t.placeholder?n("div",{staticClass:"text-xs duration-300 flex items-center font-bold",class:t.datas.length>0?" h-4":"h-0"},[t.datas.length>0?n("label",{staticClass:"z-10 px-1 text-indigo-600"},[t._v(" "+t._s(t.placeholder)+" ")]):t._e()]):t._e(),t._v(" "),n("div",[n("select",{ref:"cinput",staticClass:"input-alt w-full duration-300 text-xs",on:{change:function(e){return t.updateInput()}}},t._l(t.datas,(function(e){return n("option",{key:e[t.code],domProps:{value:e[t.code],selected:t.value==e[void 0===t.code?"code":t.code]}},[t._v(" "+t._s(e[void 0===t.label?"label":t.label])+" ")])})),0)])])}),[],!1,null,null,null);e.default=component.exports},388:function(t,e,n){"use strict";n.r(e);var l={props:["dialog"],data:function(){return{}}},o=n(7),component=Object(o.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[t.dialog.show?n("div",{staticClass:"w-screen z-40 h-screen bg-white bg-opacity-70 fixed top-0 left-0 flex justify-center items-center"},[n("div",{staticClass:"rounded-lg border relative shadow-lg bg-white flex flex-col ",staticStyle:{width:"500px","min-height":"200px border"}},[n("button",{staticClass:"absolute top-2 right-2 bt-prev-next",on:{click:function(e){return t.$emit("close")}}},[n("span",{staticClass:"material-icons"},[t._v(" clear ")])]),t._v(" "),n("div",{staticClass:"p-2"},[n("span",{staticClass:"text-lg"},[t._v(" "+t._s(t.dialog.title)+" ")])]),t._v(" "),n("div",{staticClass:"py-5 px-2 border-t border-b"},[n("span",{domProps:{innerHTML:t._s(t.dialog.content)}})]),t._v(" "),void 0===t.dialog.show_bt||1==t.dialog.show_bt?n("div",{staticClass:"flex justify-end items-end p-2"},[n("button",{staticClass:"text-sm bt mx-2",on:{click:function(e){return t.$emit("dclick",{res:"no",state:t.dialog.type})}}},[t._v("Non")]),t._v(" "),n("button",{staticClass:"text-sm bt",on:{click:function(e){return t.$emit("dclick",{res:"yes",state:t.dialog.type})}}},[t._v("Oui")])]):t._e()])]):t._e()])}),[],!1,null,null,null);e.default=component.exports},569:function(t,e,n){"use strict";n.r(e);var l=n(3),o=(n(25),n(156),n(56),n(229),n(21),n(82),n(230),{layout:"espace",data:function(){return{label_list:[{label:"Login",width:200,key:"pr_login"},{label:"Type",width:100,key:"pr_type"},{label:"Actif",width:100,key:"pr_active"},{label:"Validé",width:100,key:"pr_validate"},{label:"Nom de Société",width:100,key:"soc_label"}],pan_selected_index_list:[],list:[],pr_id:-1,dialog:{show:!1,title:"Titre",content:"Contenu",type:"default"},load:!1,col_search:"pr_login",list_col_search:[{label:"Login",code:"pr_login"}],input_search:""}},methods:{addSpliceSelected:function(i){var t=this.pan_selected_index_list.indexOf(i);-1==t?this.pan_selected_index_list.push(i):this.pan_selected_index_list.splice(t,1)},getistProfil:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("api/a/profil");case 2:(n=e.sent).status?t.list=n.profils:alert(n.message);case 4:case"end":return e.stop()}}),e)})))()},editProfil:function(t){this.$router.push("/admin/profil/edit/"+t)},showDialog:function(t,e,n){this.dialog.show=!0,this.dialog.title=t,this.dialog.content=e,this.dialog.type=n},showDelDialogProfil:function(){var t='<div class=""> <span>Nombre de Profil qui seront Supprimés</span> <span class="font-bold">('+this.pan_selected_index_list.length+")</span> </div>";t+="<span>Action irreversible .</span> ",t+='<span class="whitespace-pre-wrap font-bold text-indigo-600">Voulez-vous continuer ? </span>',this.showDialog("Suppression de Profil",t,"delete-profil")},showDesactiveDialogProfil:function(){var t='<div class=""> <span>Nombre de Profil qui seront désactivés</span> <span class="font-bold">('+this.pan_selected_index_list.length+")</span> </div>";t+='<span class="whitespace-pre-wrap font-bold text-indigo-600">Voulez-vous continuer ? </span>',this.showDialog("Désactivation de profil",t,"desactive-profil")},showActiveDialogProfil:function(){var t='<div class=""> <span>Nombre de Profil qui seront activés</span> <span class="font-bold">('+this.pan_selected_index_list.length+")</span> </div>";t+='<span class="whitespace-pre-wrap font-bold text-indigo-600">Voulez-vous continuer ? </span>',this.showDialog("Activation de profil",t,"active-profil")},resDialog:function(t){var e=this;return Object(l.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("yes"!=t.res){n.next=25;break}if("delete-profil"!=t.state){n.next=9;break}return e.dialog.content="<span class='font-bold'>Suppression en cours ...</span>",n.next=5,e.deleteProfils();case 5:n.sent.status?(e.dialog.content="<span class='font-bold text-green-500'>Suppression terminée avec Succès ...</span>",e.getistProfil(),e.pan_selected_index_list=[],setTimeout((function(){e.dialog.show=!1}),1e3)):e.dialog.content="<span class='font-bold text-red-500'>Erreur de suppression ...</span>",n.next=23;break;case 9:if("desactive-profil"!=t.state){n.next=17;break}return e.dialog.content="<span class='font-bold'>Désactivation en cours ...</span>",n.next=13,e.desactiveProfil();case 13:n.sent.status?(e.dialog.content="<span class='font-bold text-green-500'>Désactivation terminée avec Succès ...</span>",e.getistProfil(),e.pan_selected_index_list=[],setTimeout((function(){e.dialog.show=!1}),1e3)):e.dialog.content="<span class='font-bold text-red-500'>Erreur de désactivation ...</span>",n.next=23;break;case 17:if("active-profil"!=t.state){n.next=23;break}return e.dialog.content="<span class='font-bold'>Activation en cours ...</span>",n.next=21,e.activeProfil();case 21:n.sent.status?(e.dialog.content="<span class='font-bold text-green-500'>Activation terminée avec Succès ...</span>",e.getistProfil(),e.pan_selected_index_list=[],setTimeout((function(){e.dialog.show=!1}),1e3)):e.dialog.content="<span class='font-bold text-red-500'>Erreur d'Activation ...</span>";case 23:n.next=26;break;case 25:e.dialog.show=!1;case 26:case"end":return n.stop()}}),n)})))()},deleteProfils:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n,i,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],i=0;i<t.pan_selected_index_list.length;i++)l=t.list[t.pan_selected_index_list[i]],n.push(l.pr_id);return e.abrupt("return",t.$axios.$delete("api/a/profil",{data:n}));case 3:case"end":return e.stop()}}),e)})))()},desactiveProfil:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n,i,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],i=0;i<t.pan_selected_index_list.length;i++)l=t.list[t.pan_selected_index_list[i]],n.push(l.pr_id);return e.abrupt("return",t.$axios.$put("api/a/profil/desactive",n));case 3:case"end":return e.stop()}}),e)})))()},activeProfil:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n,i,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],i=0;i<t.pan_selected_index_list.length;i++)l=t.list[t.pan_selected_index_list[i]],n.push(l.pr_id);return e.abrupt("return",t.$axios.$put("api/a/profil/active",n));case 3:case"end":return e.stop()}}),e)})))()},match_search:function(t){if(""==this.col_search)return!0;if(null==t[this.col_search])return!1;if(null!=this.input_search&&""!=this.input_search){var e=new RegExp(".?"+this.input_search+".?","gi");return null!=t[this.col_search].match(e)}return!0},selectAll:function(){var t=this.list.length;this.pan_selected_index_list=[];for(var i=0;i<t;i++)this.pan_selected_index_list.push(i)},deselectAll:function(){this.pan_selected_index_list=[]},toggleCheck:function(t){this.pan_selected_index_list.length>0?this.deselectAll():this.selectAll()}},mounted:function(){this.getistProfil()}}),r=n(7),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("div",{staticClass:"h-16 border-b sticky top-0 bg-white flex items-center"},[n("span",{staticClass:"text-2xl px-2"},[t._v("Profils  ")]),t._v(" "),n("div",{staticClass:"flex-grow flex justify-center items-center"},[n("transition",{attrs:{name:"fade"}},[t.pan_selected_index_list.length>0?n("div",{staticClass:"w-full flex items-center justify-center"},[n("button",{staticClass:"bt text-sm mr-2",on:{click:t.showDelDialogProfil}},[t._v("Supprimer")]),t._v(" "),n("button",{staticClass:"bt text-sm mr-2",on:{click:t.showDesactiveDialogProfil}},[t._v("Desactiver les profils")]),t._v(" "),n("button",{staticClass:"bt text-sm mr-2",on:{click:t.showActiveDialogProfil}},[t._v("Activer les profils")])]):n("div",{staticClass:"flex items-end"},[n("custom-input",{staticClass:"mr-2 ",attrs:{type:"text",label:"Recherche ..."},model:{value:t.input_search,callback:function(e){t.input_search=e},expression:"input_search"}}),t._v(" "),n("c-select",{attrs:{datas:t.list_col_search,label:"label",code:"code",placeholder:"Tout",padding:"p-1",width:"100px"},model:{value:t.col_search,callback:function(e){t.col_search=e},expression:"col_search"}})],1)])],1),t._v(" "),n("button",{staticClass:"bt text-sm mx-2",on:{click:function(e){return t.$router.push({name:"admin-profil-add"})}}},[t._v("Ajouter un profil")])]),t._v(" "),n("div",{staticClass:"flex justify-center"},[0!=t.list.length?n("div",{staticClass:"mt-5"},[n("div",{staticClass:"flex flex-col  border rounded mb-2"},[n("div",{staticClass:"flex sticky  top-16 bg-gray-100 text-indigo-600"},[n("span",{staticClass:"font-bold border py-1 px-2 cursor-pointer w-8"},[n("input",{attrs:{type:"checkbox"},domProps:{checked:0!=t.pan_selected_index_list.length},on:{click:t.toggleCheck}})]),t._v(" "),t._l(t.label_list,(function(e){return n("span",{key:e.label,staticClass:"font-bold border py-1 px-2 cursor-pointer",style:{width:e.width+"px",minWidth:e.width+"px"}},[t._v(" "+t._s(e.label)+" ")])}))],2),t._v(" "),t._l(t.list,(function(p,i){return n("div",{directives:[{name:"show",rawName:"v-show",value:t.match_search(p),expression:"match_search(p)"}],key:p.pr_id,staticClass:"flex mt-1 duration-300 hover:bg-gray-300 hover:bg-opacity-20 items-center h-full border-b",class:{"border border-indigo-600 bg-blue-200 bg-opacity-20 rounded-sm":-1!=t.pan_selected_index_list.indexOf(i)}},[n("div",{staticClass:"py-1 px-2 h-full w-8"},[n("input",{attrs:{type:"checkbox"},domProps:{checked:-1!=t.pan_selected_index_list.indexOf(i)},on:{click:function(e){return t.addSpliceSelected(i)}}})]),t._v(" "),t._l(t.label_list,(function(e){return n("div",{key:e.key,staticClass:"py-1 px-2 ",style:{width:e.width+"px",minWidth:e.width+"px"}},["pr_type"==e.key?n("span",{},[t._v(" "+t._s(t.switchTypeProfil(p[e.key]))+" ")]):"pr_active"==e.key||"pr_validate"==e.key?n("span",{},[t._v(" "+t._s(p[e.key]?"Oui":"Non")+" ")]):"soc_label"==e.key?n("span",{},[t._v(" "+t._s(null==p.ann_label?p.reg_label:p.ann_label)+" ")]):null==p[e.key]?n("span",{},[t._v(" - ")]):n("span",{},[t._v(" "+t._s(p[e.key])+" ")])])})),t._v(" "),n("div",{staticClass:"py-1 px-2 "},[n("button",{staticClass:"bt text-xs",on:{click:function(e){return t.editProfil(p.profil_id)}}},[t._v("Editer")])])],2)}))],2)]):t._e()]),t._v(" "),n("dialog-confirm",{attrs:{dialog:t.dialog},on:{dclick:t.resDialog,close:function(e){t.dialog.show=!1}}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{CustomInput:n(358).default,CSelect:n(362).default,DialogConfirm:n(388).default})}}]);