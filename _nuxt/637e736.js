(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{484:function(t,e,n){"use strict";n.r(e);var r=n(3),o=(n(25),{data:function(){return{notifs:[]}},methods:{getNotifAnn:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.$get("api/a/annonceur/notif");case 3:(n=e.sent).status?(t.notifs=n.notifs,t.notifs.length):t.showNotif("Erreur",d.message,!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.showNotif("Erreur","Erreur de connexion, impossible d'établir une connexion vers le serveur",!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},deleteNotif:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$axios.$delete("api/a/annonceur/notifs/"+t);case 3:n.sent.status?(e.getNotifAnn(),e.showNotif("Suppression de notification","La notification a été bien supprimer")):e.showNotif("Ereur","Impossible de supprimer la notification"),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),e.showErrorConnexion();case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()}},mounted:function(){this.getNotifAnn()}}),c=n(7),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex justify-center items-center mt-5"},[n("div",{staticClass:"flex flex-col justify-center items-center",staticStyle:{width:"500px"}},[n("div",{staticClass:"flex justify-start w-full py-2"},[n("span",{staticClass:"text-gray-800"},[t._v(" Notifications  [ "+t._s(t.notifs.length)+" ] ")])]),t._v(" "),t._l(t.notifs,(function(e){return n("div",{key:e.notif_id,staticClass:"flex flex-col  rounded-lg border mb-2 w-full bg-white"},[n("div",{staticClass:"bg-gray-50 text-gray-700  rounded-t-lg text-sm px-2 py-1"},[t._v(" "+t._s(e.notif_title)+" ")]),t._v(" "),n("div",{staticClass:"px-2 py-1 text-xs pb-2 border-b"},[n({template:e.notif_desc},{tag:"component"})],1),t._v(" "),n("div",{staticClass:"py-1 px-2 flex items-center"},[n("span",{staticClass:"font-bold text-xs"},[t._v(" "+t._s(t.dateBetweenNow(e.date_notif))+" ")]),t._v(" "),n("span",{staticClass:"flex-grow"}),t._v(" "),n("button",{staticClass:"bt-prev-next text-sm ",on:{click:function(n){return t.deleteNotif(e.notif_id)}}},[n("span",{staticClass:"material-icons"},[t._v("clear")])])])])}))],2)])}),[],!1,null,null,null);e.default=component.exports}}]);