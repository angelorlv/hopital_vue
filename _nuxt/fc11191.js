(window.webpackJsonp=window.webpackJsonp||[]).push([[113,49],{382:function(e,t,n){"use strict";n.r(t);n(56);var l={props:["is_top"],data:function(){return{open:!1,style:{}}},methods:{delOnBlur:function(){var e=this;this.style.opacity=0,setTimeout((function(){e.open=!1,e.style.opacity=100}),300)},toggleOpen:function(){this.open?this.open=!1:this.open=!0},init:function(){this.style={opacity:100}}},mounted:function(){this.init()}},r=n(7),component=Object(r.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"px-2",staticStyle:{"z-index":"1011"},attrs:{tabindex:"0"}},[n("button",{staticClass:"bt-prev-next",on:{click:e.toggleOpen,blur:e.delOnBlur}},[n("span",{staticClass:"material-icons"},[e._v("more_vert")])]),e._v(" "),e.open?n("div",{staticClass:"absolute text-xs rounded mt-2 w-48 flex py-1 flex-col border right-0 bg-white shadow-lg",class:{"bottom-12":e.is_top},staticStyle:{"z-index":"1011"},style:e.style},[e._t("default")],2):e._e()])}),[],!1,null,null,null);t.default=component.exports},395:function(e,t,n){"use strict";var l=n(3);n(13),n(82),n(25);t.a={data:function(){return{panel:{list:[]},nbPage:1,nbPanel:0,filters:{page:1,limit:150}}},methods:{checkStatePanel:function(s){switch(s){case 1:return"Dispo";case 2:return"En Réservation";case 3:return"En location";case 4:return"Inactif"}},getListPanneau:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var n,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loaded=!1,t.next=4,e.$axios.$get("api/a/panel/admin/filters",{params:e.filters});case 4:(n=t.sent).status?(e.panel.list=n.panels,l=Math.ceil(n.countPanel/e.filters.limit),e.nbPage=l<=0?1:l,e.nbPanel=n.countPanel,e.loaded=!0):e.showNotif("Erreur de récupération des donnée",n.message,!0),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.showNotif("Erreur de récupération des donnée","Connexion pas établie avec le serveur.",!0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},computed:{tabNbPage:function(){for(var e=[],i=0;i<this.nbPage;i++)e.push({label:(i+1).toString(),code:i+1});return e}}}},565:function(e,t,n){"use strict";n.r(t);var l,r=n(20),o=n(3),c=(n(156),n(229),n(21),n(82),n(230),n(25),{mixins:[n(395).a],watch:{$route:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}},layout:"espace",data:function(){return{nb_panel:0,pan_selected_index_list:[],show_validate:-1,show_state:-1,label_state_list:[{label:"Tous",code:-1},{label:"Dispo",code:1},{label:"En réservation",code:2},{label:"En Location",code:3}],label_validate_list:[{label:"Tous",code:-1},{label:"Validé",code:1},{label:"Pas validé",code:0}],label_list:[{label:"Référence",width:100,key:"pan_ref"},{label:"Réf publoc",width:100,key:"pan_publoc_ref"},{label:"Régisseur",width:150,key:"reg_label"},{label:"Annonceur",width:150,key:"ann_label"},{label:"Ville",width:130,key:"lieu_ville"}],col_search:"pan_ref",list_col_search:[{label:"Référence",code:"pan_ref"},{label:"Ville",code:"lieu_ville"},{label:"Quartier",code:"lieu_quartier"},{label:"Région",code:"lieu_region"},{label:"Annonceur",code:"ann_label"},{label:"Régisseur",code:"reg_label"}],input_search:"",dialog:{show:!1,title:"Titre",content:"Contenu",type:"default",show_bt:!0},page_list:[],m_style:{},show_carte:!1}},methods:(l={countPanel:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get("api/a/panel/count").then((function(e){return e}));case 2:(n=t.sent).status?e.nb_panel=n.nb:alert(n.message);case 4:case"end":return t.stop()}}),t)})))()},addSpliceSelected:function(i){var e=this.pan_selected_index_list.indexOf(i);-1==e?this.pan_selected_index_list.push(i):this.pan_selected_index_list.splice(e,1)},toggleCheck:function(){},showDelPanel:function(){var e='<div class=""> <span>Nombre de Panneaux qui seront Supprimés</span> <span class="font-bold">('+this.pan_selected_index_list.length+")</span> </div>";e+="<span class='text-red-500 font-bold'>Action irreversible.</span> ",e+='<span class="whitespace-pre-wrap font-bold text-indigo-600">Voulez-vous continuer ? </span>',this.showDialog("Suppression de Panneau",e,"del-panel")},showDialog:function(e,t,n){this.dialog.show=!0,this.dialog.title=e,this.dialog.content=t,this.dialog.type=n},resDialog:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:"no"==e.res?t.dialog.show=!1:"del-panel"==e.state&&(t.dialog.show_bt=!1,t.dialog.content="<span class=''>Fonction en cours de développement. Supprimer le panneau dans le details panneau.</span>");case 1:case"end":return n.stop()}}),n)})))()},delPanel:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,i,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=[],i=0;i<e.pan_selected_index_list.length;i++)l=e.panel.list[e.pan_selected_index_list[i]],n.push(l.pr_id);return t.abrupt("return",e.$axios.$delete("api/a/panel",{data:n}));case 3:case"end":return t.stop()}}),t)})))()},viewPanel:function(i){this.$router.push({name:"admin-panneau-id",params:{id:i}})},match_search:function(e){if(""==this.col_search)return!0;if(null==e[this.col_search])return!1;if(null!=this.input_search&&""!=this.input_search){var t=new RegExp(".?"+this.input_search+".?","gi");return null!=e[this.col_search].match(t)}return!0},checkValidate:function(p){return-1==this.show_validate||p.pan_validation==this.show_validate},checkState:function(p){return-1==this.show_state||p.pan_state==this.show_state},selectAll:function(){var e=this.panel.list.length;this.pan_selected_index_list=[];for(var i=0;i<e;i++)this.pan_selected_index_list.push(i)},deselectAll:function(){this.pan_selected_index_list=[]}},Object(r.a)(l,"toggleCheck",(function(e){this.pan_selected_index_list.length>0?this.deselectAll():this.selectAll()})),Object(r.a)(l,"editPanel",(function(){})),l)}),d=n(7),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"relative"},[n("div",{staticClass:"flex w-full h-16 px-2 border-b  bg-white",staticStyle:{"z-index":"1010"}},[n("div",{staticClass:"flex justify-center w-full items-center "},["admin-panneau"==e.$route.name?n("div",{staticClass:"flex items-center"},[n("span",{staticClass:"cursor-pointer p-1 border rounded-full text-xs",class:{"border-green-500":!e.show_carte},on:{click:function(t){e.show_carte=!1}}},[e._v(" Liste ")]),e._v(" "),n("span",{staticClass:"material-icons cursor-pointer text-3xl",class:{"text-green-500":!e.show_carte,"text-blue-500":e.show_carte}},[e._v(" "+e._s(e.show_carte?"toggle_on":"toggle_off")+" ")]),e._v(" "),n("span",{staticClass:"cursor-pointer p-1 border rounded-full text-xs",class:{"border-blue-500":e.show_carte},on:{click:function(t){e.show_carte=!0}}},[e._v(" Carte ")])]):e._e(),e._v(" "),n("span",{staticClass:"flex-grow"}),e._v(" "),n("menu-point",{staticStyle:{"z-index":"1050"}},[n("div",{staticClass:"flex p-2 w-full cursor-pointer px-2 hover:bg-gray-100",on:{click:function(t){return e.$router.push("/admin/panneau")}}},[n("span",{staticClass:"material-icons text-sm"},[e._v("list")]),e._v(" "),n("span",{staticClass:"ml-2"},[e._v("Listes")])]),e._v(" "),n("div",{staticClass:"flex p-2 w-full cursor-pointer px-2 hover:bg-gray-100",on:{click:function(t){return e.$router.push("/admin/panneau/add")}}},[n("span",{staticClass:"material-icons text-sm"},[e._v("add")]),e._v(" "),n("span",{staticClass:"ml-2"},[e._v("Ajouter")])]),e._v(" "),n("div",{staticClass:"flex p-2 w-full cursor-pointer px-2 hover:bg-gray-100",on:{click:function(t){return e.$router.push("/admin/panneau/add-multiple")}}},[n("span",{staticClass:"material-icons text-sm"},[e._v("edit")]),e._v(" "),n("span",{staticClass:"ml-2"},[e._v("Modification multiple")])])])],1)]),e._v(" "),n("nuxt-child",{attrs:{carte:e.show_carte}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{MenuPoint:n(382).default})}}]);