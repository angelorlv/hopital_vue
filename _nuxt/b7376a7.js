(window.webpackJsonp=window.webpackJsonp||[]).push([[135],{579:function(n,e,t){"use strict";t.r(e);var r=t(3),o=(t(25),{data:function(){return{nbPanDispoWithRefAnn:0,nbpanwithoc:0}},methods:{countPanWithRefAnn:function(){var n=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.$axios.$get("api/a/settings/pan-ref-not-null/count");case 3:(t=e.sent).status?n.nbPanDispoWithRefAnn=t.nb:n.showNotif("Erreur",t.message,!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n.showErrorConnexion();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},deleteRef:function(){var n=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.$axios.$delete("api/a/settings/pan-ref-not-null");case 3:(t=e.sent).status?n.countPanWithRefAnn():n.showNotif("Erreur",t.message,!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n.showErrorConnexion();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},countPanIndispoWithLoc:function(){var n=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.$axios.$get("api/a/settings/pan-indispo-with-loc/count");case 3:(t=e.sent).status?n.nbpanwithoc=t.nb:n.showNotif("Erreur",t.message,!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n.showErrorConnexion();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},setDispoPanWithLoc:function(){var n=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.$axios.$put("api/a/settings/pan-indispo-with-loc");case 3:(t=e.sent).status?n.countPanIndispoWithLoc():n.showNotif("Erreur",t.message,!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n.showErrorConnexion();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}},mounted:function(){this.countPanWithRefAnn(),this.countPanIndispoWithLoc()}}),c=t(7),component=Object(c.a)(o,(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"p-2"},[t("div",{staticClass:"border p-2 rounded-lg"},[t("div",{staticClass:"text-sm border-b py-1"},[n._v("\n            Nombre de panneau dispo avec une référence annonceur non null : "+n._s(n.nbPanDispoWithRefAnn)+"\n        ")]),n._v(" "),n.nbPanDispoWithRefAnn>-4?t("div",{staticClass:"py-1"},[t("button",{staticClass:"bt text-sm",on:{click:n.deleteRef}},[n._v(" Supprimer les références annonceurs ")])]):n._e()]),n._v(" "),t("div",{staticClass:"border p-2 rounded-lg"},[t("div",{staticClass:"text-sm border-b py-1"},[n._v("\n            Nombre de panneau dont l'etat ont été changé en indspo mais toujours en location : "+n._s(n.nbpanwithoc)+"\n        ")]),n._v(" "),n.nbpanwithoc>0?t("div",{staticClass:"py-1"},[t("button",{staticClass:"bt text-sm",on:{click:n.setDispoPanWithLoc}},[n._v(" Mettre en dispo les panneaux ")])]):n._e()])])}),[],!1,null,null,null);e.default=component.exports}}]);