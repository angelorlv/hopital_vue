(window.webpackJsonp=window.webpackJsonp||[]).push([[177,17,23],{358:function(t,e,r){"use strict";r.r(e);var n={props:["label","type","id","autofocus","width","value"],data:function(){return{on_focus:!1,style:{height:40},input:{style:{},model:""}}},methods:{updateInput:function(){this.$emit("input",this.$refs.cinput.value)},focusInput:function(){this.$refs.cinput.focus()}},mounted:function(){},created:function(){}},o=r(7),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{style:t.input.style},[r("div",{staticClass:"text-xs duration-300 flex items-center font-bold h-4"},[r("label",{staticClass:"z-10 px-1 text-indigo-600",attrs:{for:t.id}},[t._v(" "+t._s(t.label)+" ")])]),t._v(" "),r("input",{ref:"cinput",staticClass:"input-alt w-full duration-300 text-xs",attrs:{autofocus:t.autofocus,id:t.id,type:t.type,placeholder:t.label},domProps:{value:t.value},on:{input:function(e){return t.updateInput()},focus:function(){t.on_focus=!0,t.$emit("focus")},blur:function(){t.on_focus=!1,t.$emit("blur")}}})])}),[],!1,null,"a221d83e",null);e.default=component.exports},359:function(t,e,r){var content=r(361);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(27).default)("2d1dc0a2",content,!0,{sourceMap:!1})},360:function(t,e,r){"use strict";r(359)},361:function(t,e,r){var n=r(26)((function(i){return i[1]}));n.push([t.i,"/*purgecss start ignore*/\n.fade-enter-active,.fade-leave-active{\n  transition:opacity .3s\n}\n.fade-enter,.fade-leave-to{\n  opacity:0\n}\n\n/*purgecss end ignore*/",""]),n.locals={},t.exports=n},362:function(t,e,r){"use strict";r.r(e);var n={props:["value","datas","label","code","placeholder","padding","width"],watch:{datas:function(a){this.$emit("input",void 0===a[0]?null:a[0][this.code])}},data:function(){return{}},methods:{updateInput:function(){this.$emit("input",this.$refs.cinput.value)}},mounted:function(){}},o=(r(360),r(7)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"relative flex flex-col"},[t.placeholder?r("div",{staticClass:"text-xs duration-300 flex items-center font-bold",class:t.datas.length>0?" h-4":"h-0"},[t.datas.length>0?r("label",{staticClass:"z-10 px-1 text-indigo-600"},[t._v(" "+t._s(t.placeholder)+" ")]):t._e()]):t._e(),t._v(" "),r("div",[r("select",{ref:"cinput",staticClass:"input-alt w-full duration-300 text-xs",on:{change:function(e){return t.updateInput()}}},t._l(t.datas,(function(e){return r("option",{key:e[t.code],domProps:{value:e[t.code],selected:t.value==e[void 0===t.code?"code":t.code]}},[t._v(" "+t._s(e[void 0===t.label?"label":t.label])+" ")])})),0)])])}),[],!1,null,null,null);e.default=component.exports},404:function(t,e,r){var content=r(458);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(27).default)("5bc2628d",content,!0,{sourceMap:!1})},457:function(t,e,r){"use strict";r(404)},458:function(t,e,r){var n=r(26)((function(i){return i[1]}));n.push([t.i,"/*purgecss start ignore*/\n.text-error{\n  border-radius:0.25rem;\n  border-bottom-width:4px;\n  --tw-border-opacity:1;\n  border-color:rgba(185, 28, 28, var(--tw-border-opacity));\n  --tw-bg-opacity:1;\n  background-color:rgba(239, 68, 68, var(--tw-bg-opacity));\n  padding-left:0.5rem;\n  padding-right:0.5rem;\n  padding-top:0.25rem;\n  padding-bottom:0.25rem;\n  --tw-text-opacity:1;\n  color:rgba(255, 255, 255, var(--tw-text-opacity))\n}\n.text-blue{\n  border-radius:0.25rem;\n  border-bottom-width:4px;\n  --tw-border-opacity:1;\n  border-color:rgba(67, 56, 202, var(--tw-border-opacity));\n  --tw-bg-opacity:1;\n  background-color:rgba(99, 102, 241, var(--tw-bg-opacity));\n  padding-left:0.5rem;\n  padding-right:0.5rem;\n  padding-top:0.25rem;\n  padding-bottom:0.25rem;\n  --tw-text-opacity:1;\n  color:rgba(255, 255, 255, var(--tw-text-opacity))\n}\n.bt-purple{\n  border-radius:0.25rem;\n  --tw-bg-opacity:1;\n  background-color:rgba(79, 70, 229, var(--tw-bg-opacity))\n}\n.bt-purple:hover{\n  --tw-bg-opacity:1;\n  background-color:rgba(55, 48, 163, var(--tw-bg-opacity))\n}\n.bt-purple{\n  padding-left:0.5rem;\n  padding-right:0.5rem;\n  padding-top:0.25rem;\n  padding-bottom:0.25rem;\n  font-weight:500;\n  --tw-text-opacity:1;\n  color:rgba(255, 255, 255, var(--tw-text-opacity));\n  --tw-shadow:0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n  box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)\n}\n.bt-purple:focus{\n  outline:2px solid transparent;\n  outline-offset:2px\n}\n.bt-purple{\n  transition-duration:300ms\n}\n\n/*purgecss end ignore*/",""]),n.locals={},t.exports=n},538:function(t,e,r){"use strict";r.r(e);var n=r(3),o=(r(25),{data:function(){return{tarif:{tarif_min_month:1,cat_id:null,tarif_designation:""},service:[],categories:[],tarif_list:[],tarif_type:[{label:"HT",code:"HT"},{label:"TTC",code:"TTC"}],cur_index_tarif_list:-1}},methods:{getListCatergory:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,i,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("api/a/category/reg/"+t.$store.state.profil.pr_id);case 2:if((r=e.sent).status){for(t.categories=r.categories,t.tarif.cat_id=t.categories[0].cat_id,i=0;i<t.categories.length;i++)null!=(n=t.categories[i]).parent_cat_label&&(t.categories[i].cat_label=n.parent_cat_label+" > "+n.cat_label);t.categories.push({cat_label:"Toutes Catégories",cat_id:null})}case 4:case"end":return e.stop()}}),e)})))()},addTarif:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.$post("api/a/regisseur/tarif",{tarif:t.tarif,services:t.service});case 3:(r=e.sent).status?(t.getTarifs(),t.resetTarif()):t.showNotif("Erreur",r.message,!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.showErrorConnexion();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},getTarifs:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.$get("api/a/regisseur/tarif");case 3:(r=e.sent).status?t.tarif_list=r.tarifs:t.showNotif("Erreur",r.message,!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.showErrorConnexion();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},addLigneService:function(){this.service.push({serv_tarif_prix:1e3,serv_tarif_type:"HT",serv_label:"",id:this.makeid(4)})},resetTarif:function(){this.tarif={tarif_min_month:1,cat_id:null,tarif_designation:""},this.service=[],this.addLigneService()}},mounted:function(){this.getListCatergory(),this.addLigneService(),this.getTarifs()}}),l=(r(457),r(7)),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex lg:flex-row flex-col "},[r("div",{staticClass:" lg:w-3/5 w-full"},[t._m(0),t._v(" "),r("div",{staticClass:"mt-5 flex flex-col "},[r("div",{staticClass:" border-l-4 pl-2 flex flex-wrap items-end"},[r("div",{staticClass:"flex w-full mb-2"},[r("span",{staticClass:"flex-grow"}),t._v(" "),r("button",{staticClass:"bt text-sm",on:{click:t.addTarif}},[t._v("Ajouter le tarif")])]),t._v(" "),r("div",{staticClass:"flex items-end w-full mb-2"},[r("custom-input",{staticClass:"mr-2 w-full",attrs:{type:"text",label:"Désignation ... "},model:{value:t.tarif.tarif_designation,callback:function(e){t.$set(t.tarif,"tarif_designation","string"==typeof e?e.trim():e)},expression:"tarif.tarif_designation"}})],1),t._v(" "),r("div",{staticClass:"flex items-end w-full mb-2"},[r("custom-input",{staticClass:"mr-2 w-1/2",attrs:{type:"number",label:"Nombre de mois ..."},model:{value:t.tarif.tarif_min_month,callback:function(e){t.$set(t.tarif,"tarif_min_month",e)},expression:"tarif.tarif_min_month"}}),t._v(" "),r("c-select",{staticClass:"mr-2 w-1/2",attrs:{datas:t.categories,placeholder:"Catégorie ...",label:"cat_label",code:"cat_id"},model:{value:t.tarif.cat_id,callback:function(e){t.$set(t.tarif,"cat_id",e)},expression:"tarif.cat_id"}})],1),t._v(" "),r("div",{staticClass:"border-t-2 mt-5 border-blue-600 w-full "},[r("div",{staticClass:"py-2 text-sm flex w-full"},[r("span",[t._v("Les services : ( "+t._s(t.service.length)+" ) ")]),t._v(" "),r("span",{staticClass:"flex-grow"}),t._v(" "),r("button",{staticClass:"bt text-sm",on:{click:t.addLigneService}},[t._v(" Ajouter un service ")])]),t._v(" "),r("div",{staticClass:"flex flex-col-reverse"},t._l(t.service,(function(s,i){return r("div",{key:s.id,staticClass:"rounded hover:border-indigo-600 bg-white  border mb-2 p-2"},[i>0?r("div",{staticClass:"flex my-1"},[r("span",{staticClass:"flex-grow"}),t._v(" "),r("button",{staticClass:"bt-prev-next text-xs",on:{click:function(e){return t.service.splice(i,1)}}},[r("span",{staticClass:"material-icons"},[t._v(" clear ")])])]):t._e(),t._v(" "),r("div",{staticClass:"my-1"},[r("custom-input",{staticClass:"mr-2 w-full",attrs:{type:"text",label:"Désignation Service ... "},model:{value:s.serv_label,callback:function(e){t.$set(s,"serv_label","string"==typeof e?e.trim():e)},expression:"s.serv_label"}})],1),t._v(" "),r("div",{staticClass:"flex items-end w-full my-1"},[r("custom-input",{staticClass:"mr-2 w-1/2",attrs:{type:"number",label:"Prix ... "},model:{value:s.serv_tarif_prix,callback:function(e){t.$set(s,"serv_tarif_prix",e)},expression:"s.serv_tarif_prix"}}),t._v(" "),r("c-select",{staticClass:" w-1/2",attrs:{datas:t.tarif_type,placeholder:"Prix HT/TTC ...",label:"label",code:"code"},model:{value:s.serv_tarif_type,callback:function(e){t.$set(s,"serv_tarif_type",e)},expression:"s.serv_tarif_type"}})],1)])})),0)])]),t._v(" "),r("div",{staticClass:"border-l-4 pl-2 mt-2 text-sm border-blue-500"},[r("div",{staticClass:"mb-2"},[r("transition",{attrs:{name:"fade"}},[t.tarif.tarif_min_month<1?r("span",{staticClass:"text-error"},[t._v(" La durée minimum d'une location doit être de 1 mois ")]):t._e()])],1),t._v(" "),r("div",{},[r("transition",{attrs:{name:"fade"}},[""==t.tarif.tarif_service?r("span",{staticClass:"text-error"},[t._v(" Vous devez indiquer un type de service ")]):t._e()])],1)])])]),t._v(" "),r("div",{staticClass:"lg:w-2/5 w-full mt-5 lg:mt-0 lg:mx-2 rounded-lg p-2 bg-white shadow-lg"},[r("span",{staticClass:"font-bold py-2 border-b block w-full"},[t._v(" Vos Tarifs sur les panneaux ")]),t._v(" "),t.tarif_list.length>0?r("div",{},t._l(t.tarif_list,(function(e,i){return r("div",{key:e.tarif_id,staticClass:"mb-2 mt-2 text-sm"},[r("div",{staticClass:"hover:bg-indigo-50 hover:bg-opacity-70 flex text-sm cursor-pointer p-2  items-center rounded duration-300 border",class:t.cur_index_tarif_list==i?"bg-indigo-50 bg-opacity-70 border-b-0":"",on:{click:function(){t.cur_index_tarif_list=t.cur_index_tarif_list==i?-1:i}}},[r("div",{staticClass:"border-l px-2 flex items-center"},[r("span",[t._v(t._s(e.parent_cat_label))]),t._v(" "),r("span",{staticClass:"material-icons"},[t._v("arrow_right")]),t._v(" "),r("span",[t._v(t._s(e.cat_label))])]),t._v(" "),r("span",{staticClass:"px-2 font-bold"},[t._v(" (+ de "+t._s(e.tarif_min_month)+" mois ) ")]),t._v(" "),r("span",{staticClass:"flex-grow"}),t._v(" "),r("span",{staticClass:"material-icons"},[t._v(" expand_more ")])]),t._v(" "),t.cur_index_tarif_list==i?r("div",{staticClass:"flex flex-col border p-2 rounded-b bg-indigo-50 bg-opacity-30"},[r("span",{},[t._v(" "+t._s(e.tarif_designation)+" ")]),t._v(" "),t._l(e.services,(function(s){return r("div",{key:s.serv_id,staticClass:"flex"},[r("span",{staticClass:"px-2"},[t._v(" Service : "+t._s(s.serv_label)+" ")]),t._v(" "),r("span",{staticClass:"px-2 border-l"},[t._v(" Prix : "+t._s(s.serv_tarif_prix)+" ")]),t._v(" "),r("span",{staticClass:"flex-grow"}),t._v(" "),r("span",[t._v(" "+t._s(s.serv_tarif_type)+" ")])])}))],2):t._e()])})),0):r("div",{staticClass:"w-full flex justify-center items-center"},[r("span",{staticClass:"mt-5"},[t._v(" La liste est vide ")])])])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{},[r("span",{staticClass:"font-semibold"},[t._v(" Description ")]),t._v(" "),r("div",{staticClass:"flex py-2 bg-gradient-to-r border-l-4 pl-2  from-indigo-50 to-transparent flex-col text-sm"},[r("span",[t._v("Ici vous pouvez créer un tarif pour chaque catégorie de panneau et pour chaque service.")]),t._v(" "),r("span",{staticClass:"text-blue"},[t._v("Comme par exemple vous pouvez créer un tarif pour les panneaux dans la catégorie Panneau - 3/4 et pour le service Impression. ")]),t._v(" "),r("span",[t._v("Vous pouvez indiquer le nombre de mois de location. ")]),t._v(" "),r("span",[t._v("Si vous n'indiquez pas une dimension, ce sera pour toute dimension")])])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{CustomInput:r(358).default,CSelect:r(362).default})}}]);