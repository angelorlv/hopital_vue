(window.webpackJsonp=window.webpackJsonp||[]).push([[115,17,23,35],{358:function(e,t,n){"use strict";n.r(t);var r={props:["label","type","id","autofocus","width","value"],data:function(){return{on_focus:!1,style:{height:40},input:{style:{},model:""}}},methods:{updateInput:function(){this.$emit("input",this.$refs.cinput.value)},focusInput:function(){this.$refs.cinput.focus()}},mounted:function(){},created:function(){}},l=n(7),component=Object(l.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:e.input.style},[n("div",{staticClass:"text-xs duration-300 flex items-center font-bold h-4"},[n("label",{staticClass:"z-10 px-1 text-indigo-600",attrs:{for:e.id}},[e._v(" "+e._s(e.label)+" ")])]),e._v(" "),n("input",{ref:"cinput",staticClass:"input-alt w-full duration-300 text-xs",attrs:{autofocus:e.autofocus,id:e.id,type:e.type,placeholder:e.label},domProps:{value:e.value},on:{input:function(t){return e.updateInput()},focus:function(){e.on_focus=!0,e.$emit("focus")},blur:function(){e.on_focus=!1,e.$emit("blur")}}})])}),[],!1,null,"a221d83e",null);t.default=component.exports},359:function(e,t,n){var content=n(361);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(27).default)("2d1dc0a2",content,!0,{sourceMap:!1})},360:function(e,t,n){"use strict";n(359)},361:function(e,t,n){var r=n(26)((function(i){return i[1]}));r.push([e.i,"/*purgecss start ignore*/\n.fade-enter-active,.fade-leave-active{\n  transition:opacity .3s\n}\n.fade-enter,.fade-leave-to{\n  opacity:0\n}\n\n/*purgecss end ignore*/",""]),r.locals={},e.exports=r},362:function(e,t,n){"use strict";n.r(t);var r={props:["value","datas","label","code","placeholder","padding","width"],watch:{datas:function(a){this.$emit("input",void 0===a[0]?null:a[0][this.code])}},data:function(){return{}},methods:{updateInput:function(){this.$emit("input",this.$refs.cinput.value)}},mounted:function(){}},l=(n(360),n(7)),component=Object(l.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"relative flex flex-col"},[e.placeholder?n("div",{staticClass:"text-xs duration-300 flex items-center font-bold",class:e.datas.length>0?" h-4":"h-0"},[e.datas.length>0?n("label",{staticClass:"z-10 px-1 text-indigo-600"},[e._v(" "+e._s(e.placeholder)+" ")]):e._e()]):e._e(),e._v(" "),n("div",[n("select",{ref:"cinput",staticClass:"input-alt w-full duration-300 text-xs",on:{change:function(t){return e.updateInput()}}},e._l(e.datas,(function(t){return n("option",{key:t[e.code],domProps:{value:t[e.code],selected:e.value==t[void 0===e.code?"code":e.code]}},[e._v(" "+e._s(t[void 0===e.label?"label":e.label])+" ")])})),0)])])}),[],!1,null,null,null);t.default=component.exports},365:function(e,t,n){var content=n(369);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(27).default)("76a25175",content,!0,{sourceMap:!1})},368:function(e,t,n){"use strict";n(365)},369:function(e,t,n){var r=n(26)((function(i){return i[1]}));r.push([e.i,"/*purgecss start ignore*/\n#map[data-v-1beb3618]{\n  height:450px\n}\n\n/*purgecss end ignore*/",""]),r.locals={},e.exports=r},371:function(e,t,n){"use strict";n.r(t);var r=n(3),l=(n(25),n(61),n(62),n(21),n(99),n(363)),o=n.n(l),c=(n(376),n(377),{props:["data_carte"],data:function(){return{mymap:{},origin_view:[-18.929670491513264,47.52685546875001],accessToken:"pk.eyJ1IjoiYW5nZWxvMTQyNyIsImEiOiJja3c0aGExMTIwNmp0Mm9udnY2bGNsZnRoIn0.PiJCKKLMoWzmULCaFs2CqA",layerGroup:{},d_carte:{lat:0,lng:0,region:"",ville:"",quartier:"",pays:""},d:["lat","lng","region","ville","quartier","pays"]}},methods:{initMap:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.mymap=o.a.map("map").setView(e.origin_view,16),o.a.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:"pk.eyJ1IjoiYW5nZWxvMTQyNyIsImEiOiJja3c0aGExMTIwNmp0Mm9udnY2bGNsZnRoIn0.PiJCKKLMoWzmULCaFs2CqA"}).addTo(e.mymap),e.layerGroup=o.a.layerGroup().addTo(e.mymap),o.a.Control.geocoder({defaultMarkGeocode:!1}).addTo(e.mymap).on("markgeocode",(function(t){e.getLocation(t.geocode.center),e.d_carte.lat=t.geocode.center.lat,e.d_carte.lng=t.geocode.center.lng,e.mymap.setView([e.d_carte.lat,e.d_carte.lng]),e.layerGroup.clearLayers(),o.a.marker([e.d_carte.lat,e.d_carte.lng]).addTo(e.layerGroup)})),e.mymap.on("click",(function(t){e.d_carte.lat=t.latlng.lat,e.d_carte.lng=t.latlng.lng,e.layerGroup.clearLayers(),o.a.marker([e.d_carte.lat,e.d_carte.lng]).addTo(e.layerGroup),e.getLocation(t.latlng)}));case 5:case"end":return t.stop()}}),t)})))()},getLocation:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,l,i,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.d_carte.region="",t.d_carte.pays="",t.d_carte.ville="",t.d_carte.quartier="",n.prev=1,n.next=4,t.$axios.$get("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(e.lng,",").concat(e.lat,".json?access_token=").concat(t.accessToken));case 4:r=n.sent,console.log(r),l=r.features,i=1;case 8:if(!(i<l.length)){n.next=25;break}o=l[i].id.split(".")[0],n.t0=o,n.next="locality"===n.t0?13:"place"===n.t0?15:"region"===n.t0?17:"country"===n.t0?19:21;break;case 13:return t.d_carte.quartier=l[i].text,n.abrupt("break",22);case 15:return t.d_carte.ville=l[i].text,n.abrupt("break",22);case 17:return t.d_carte.region=l[i].text,n.abrupt("break",22);case 19:return t.d_carte.pays=l[i].text,n.abrupt("break",22);case 21:return n.abrupt("break",22);case 22:i++,n.next=8;break;case 25:n.next=30;break;case 27:n.prev=27,n.t1=n.catch(1),console.log(n.t1);case 30:case"end":return n.stop()}}),n,null,[[1,27]])})))()},setDataCarte:function(){this.$emit("validate",this.d_carte),this.$emit("close")}},mounted:function(){this.initMap()}}),d=(n(368),n(7)),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w-screen h-screen bg-white bg-opacity-70 fixed top-0 left-0 flex justify-center items-center",staticStyle:{"z-index":"1010"}},[n("div",{staticClass:"rounded-lg flex bg-gray-100",staticStyle:{height:"80%",width:"80%"}},[n("button",{staticClass:"absolute top-5 right-5 bt-prev-next",on:{click:function(t){return e.$emit("close")}}},[n("span",{staticClass:"material-icons"},[e._v(" clear ")])]),e._v(" "),n("div",{staticStyle:{height:"100%",width:"70%","border-radius":"8px"},attrs:{id:"map"}}),e._v(" "),n("div",{staticClass:"flex flex-col p-5 ",staticStyle:{width:"30%"}},[e._l(e.d,(function(p,i){return n("div",{key:i,staticClass:"flex flex-col"},[n("span",{staticClass:"text-sm font-bold"},[e._v(" "+e._s(p)+" ")]),e._v(" "),n("span",{staticClass:"text-xl"},[e._v(" "+e._s(e.d_carte[p])+" ")])])})),e._v(" "),n("div",{staticClass:"p-5 flex justify-end w-full"},[n("button",{staticClass:"flex justify-center items-center bt",on:{click:e.setDataCarte}},[n("span",{staticClass:"text-sm"},[e._v(" Valider ")]),e._v(" "),n("span",{staticClass:"material-icons"},[e._v(" navigate_next ")])])])],2)])])}),[],!1,null,"1beb3618",null);t.default=component.exports},567:function(e,t,n){"use strict";n.r(t);var r=n(3),l=(n(13),n(156),n(25),{watch:{parent_cat_id:function(a){console.warn(a),this.getListSousCat()}},data:function(){return{panel_image_src:null,panels_image_src:[],nb_max_image:5,parent_cat_id:null,panneau:{models:{lieu_lat:"",lieu_lng:"",lieu_pays:"",lieu_region:"",lieu_ville:"",lieu_commune:"",lieu_quartier:"",pan_surface:"",pan_description:"",pan_ref:"",lieu_label:"",reg_id:"",cat_id:"",image_id:"",pan_support:"bache",pan_lumineux:0,pan_list_photo:[],pan_visu_actu:""},pan_support_list:[{label:"Bache",code:"bache"},{label:"Vynil",code:"vynil"}]},info:{success:!1,message:"",show:!1},provinces:[],annonceurs:[],regisseurs:[],categories:[],sous_cat_list:[],cu_list:[],show_carte:!1,data_carte:{},on_load_image:!1}},methods:{postPanel:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.on_load_image){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$axios.$post("api/a/panel",e.panneau.models);case 4:(n=t.sent).status?e.$router.push({name:"admin-panneau-id",params:{id:n.id}}):(e.info.show=!0,e.info.message=n.message);case 6:case"end":return t.stop()}}),t)})))()},getListAnnonceur:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get("api/a/annonceur");case 2:(n=t.sent).status&&(e.annonceurs=n.annonceurs);case 4:case"end":return t.stop()}}),t)})))()},getListRegisseur:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get("api/a/regisseur");case 2:(n=t.sent).status&&(e.regisseurs=n.regisseurs,e.regisseurs.unshift({reg_label:"Aucun Régisseur",reg_id:""}));case 4:case"end":return t.stop()}}),t)})))()},getAllListUtil:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.$get("api/a/regisseur/panel/add/util");case 3:(n=t.sent).status?(e.cu_list=n.cu,e.cu_list.unshift({cu_id:"",cu_label:"Sans Commune"})):e.showNotif("Erreur",n.message,!0),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.showErrorConnexion();case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},getListCatergory:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,i,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get("api/a/category");case 2:if((n=t.sent).status)for(e.categories=n.categories,i=0;i<e.categories.length;i++)null!=(r=e.categories[i]).parent_cat_label&&(e.categories[i].cat_label=r.parent_cat_label+" > "+r.cat_label);case 4:case"end":return t.stop()}}),t)})))()},getListParentCat:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get("api/a/category/parent");case 2:(n=t.sent).status&&(e.categories=n.list);case 4:case"end":return t.stop()}}),t)})))()},getListSousCat:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.$get("api/a/category/sous/"+e.parent_cat_id);case 3:(n=t.sent).status&&(e.sous_cat_list=n.list),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.showErrorConnexion();case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},upload_image:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var image,r,l,data,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("Upload"),0!=e.target.files.length){n.next=3;break}return n.abrupt("return");case 3:return image=e.target.files[0],(r=new FileReader).readAsDataURL(image),t.on_load_image=!0,n.next=9,new Promise((function(e,t){r.onload=function(t){e(t.target.result)}}));case 9:return l=n.sent,t.panels_image_src.push(l),t.panneau.models.pan_list_photo.push(t.panels_image_src.length),(data=new FormData).append("name",t.makeid(8)),data.append("file",image),n.next=17,t.$axios.$post("api/a/uploads",data).then((function(e){return t.on_load_image=!1,e}));case 17:(o=n.sent).status?t.panneau.models.pan_list_photo[t.panels_image_src.length-1]=o.file_id:t.showNotif("Erreur de connexion",o.message);case 19:case"end":return n.stop()}}),n)})))()},delete_image:function(i){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.$delete("api/a/uploads/"+e.panneau.models.pan_list_photo[i]);case 3:(n=t.sent).status?(e.panels_image_src.splice(i,1),e.panneau.models.pan_list_photo.splice(i,1)):e.showNotif("Erreur",n.message,!0),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.showErrorConnexion();case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},setLieu:function(p){this.panneau.models.lieu_pays=p.pays,this.panneau.models.lieu_region=p.region,this.panneau.models.lieu_quartier=p.quartier,this.panneau.models.lieu_ville=p.ville,this.panneau.models.lieu_lat=p.lat,this.panneau.models.lieu_lng=p.lng}},mounted:function(){console.log(this.$route),this.getListRegisseur(),this.getListParentCat(),this.getAllListUtil()}}),o=n(7),component=Object(o.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w-full flex flex-col justify-center items-center"},[n("div",{staticClass:"flex flex-col justify-center w-full"},[n("div",{staticClass:"w-full"},[n("div",{staticClass:"w-full flex flex-col"},[n("div",{staticClass:"flex p-2 "},[n("button",{staticClass:"bt-prev-next",on:{click:function(t){return e.$router.push({name:"admin-panneau"})}}},[n("span",{staticClass:"material-icons"},[e._v(" navigate_before ")])]),e._v(" "),n("span",{staticClass:"ml-2 text-2xl"},[e._v("Ajout Panneau")])]),e._v(" "),n("div",{staticClass:"duration-300 rounded sticky top-16  bg-red-200 bg-opacity-70 text-red-500 flex justify-center items-center my-2 ",class:{"h-16 p-2 border border-red-500":e.info.show,"h-0":!e.info.show}},[e.info.show?n("span",{},[e._v(" "+e._s(e.info.message)+" ")]):e._e()]),e._v(" "),n("div",{staticClass:"flex text-sm flex-wrap justify-center "},[n("div",{staticClass:"mb-10 mx-2  w-80"},[n("span",{staticClass:"block font-bold p-2 mb-2 bg-indigo-600 rounded text-gray-100"},[e._v(" Panneau ")]),e._v(" "),n("custom-input",{staticClass:"mt-2",attrs:{type:"text",label:"Référence ..."},model:{value:e.panneau.models.pan_ref,callback:function(t){e.$set(e.panneau.models,"pan_ref",t)},expression:"panneau.models.pan_ref"}}),e._v(" "),n("custom-input",{staticClass:"mt-2",attrs:{width:"100%",type:"text",label:"Surface ..."},model:{value:e.panneau.models.pan_surface,callback:function(t){e.$set(e.panneau.models,"pan_surface",t)},expression:"panneau.models.pan_surface"}}),e._v(" "),n("c-select",{staticClass:"mt-2",attrs:{width:"100%",datas:e.categories,label:"cat_label",code:"cat_id",placeholder:"Catégorie ..."},model:{value:e.parent_cat_id,callback:function(t){e.parent_cat_id=t},expression:"parent_cat_id"}}),e._v(" "),n("c-select",{staticClass:"mt-2",attrs:{width:"100%",datas:e.sous_cat_list,label:"cat_label",code:"cat_id",placeholder:"Sous Catégorie ..."},model:{value:e.panneau.models.cat_id,callback:function(t){e.$set(e.panneau.models,"cat_id",t)},expression:"panneau.models.cat_id"}}),e._v(" "),n("c-select",{staticClass:"mt-2",attrs:{width:"100%",datas:e.panneau.pan_support_list,label:"label",code:"code",placeholder:"Type de support ..."},model:{value:e.panneau.models.pan_support,callback:function(t){e.$set(e.panneau.models,"pan_support",t)},expression:"panneau.models.pan_support"}}),e._v(" "),n("div",{staticClass:"mt-2 flex items-center p-1 rounded-lg border border-gray-400 bg-gray-50"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.panneau.models.pan_lumineux,expression:"panneau.models.pan_lumineux"}],staticClass:"text-indigo-600",attrs:{type:"checkbox",id:"panneau.models.pan_lumineux"},domProps:{checked:Array.isArray(e.panneau.models.pan_lumineux)?e._i(e.panneau.models.pan_lumineux,null)>-1:e.panneau.models.pan_lumineux},on:{change:function(t){var n=e.panneau.models.pan_lumineux,r=t.target,l=!!r.checked;if(Array.isArray(n)){var o=e._i(n,null);r.checked?o<0&&e.$set(e.panneau.models,"pan_lumineux",n.concat([null])):o>-1&&e.$set(e.panneau.models,"pan_lumineux",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.panneau.models,"pan_lumineux",l)}}}),e._v(" "),n("label",{staticClass:"pl-2",attrs:{for:"panneau.models.pan_lumineux"}},[e._v("Lumineux")])]),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.panneau.models.pan_description,expression:"panneau.models.pan_description"}],staticClass:"w-full mt-2 h-32 focus:outline-none rounded border border-gray-500 p-2 focus:border-indigo-600",attrs:{placeholder:"Description ..."},domProps:{value:e.panneau.models.pan_description},on:{input:function(t){t.target.composing||e.$set(e.panneau.models,"pan_description",t.target.value)}}}),e._v(" "),n("custom-input",{staticClass:"mt-2",attrs:{width:"100%",type:"text",label:"Visuel actu ..."},model:{value:e.panneau.models.pan_visu_actu,callback:function(t){e.$set(e.panneau.models,"pan_visu_actu",t)},expression:"panneau.models.pan_visu_actu"}})],1),e._v(" "),n("div",{staticClass:"mb-10 mx-2  w-80"},[n("div",{staticClass:"flex justify-center items-center font-bold p-2 mb-2 bg-indigo-600 rounded text-gray-100"},[n("span",{staticClass:"block flex-grow"},[e._v(" Lieu  ")]),e._v(" "),n("button",{staticClass:"flex bt  justify-center text-xs items-center ",on:{click:function(t){e.show_carte=!0}}},[n("span",{},[e._v("Par carte ")]),e._v(" "),n("span",{staticClass:"material-icons"},[e._v(" navigate_next ")])])]),e._v(" "),n("custom-input",{staticClass:"mt-2",attrs:{width:"100%",type:"text",label:"Pays ..."},model:{value:e.panneau.models.lieu_pays,callback:function(t){e.$set(e.panneau.models,"lieu_pays",t)},expression:"panneau.models.lieu_pays"}}),e._v(" "),n("custom-input",{staticClass:"mt-2",attrs:{width:"100%",type:"text",label:"Ville ..."},model:{value:e.panneau.models.lieu_ville,callback:function(t){e.$set(e.panneau.models,"lieu_ville",t)},expression:"panneau.models.lieu_ville"}}),e._v(" "),n("custom-input",{staticClass:"mt-2",attrs:{width:"100%",type:"text",label:"Région ..."},model:{value:e.panneau.models.lieu_region,callback:function(t){e.$set(e.panneau.models,"lieu_region",t)},expression:"panneau.models.lieu_region"}}),e._v(" "),n("custom-input",{staticClass:"mt-2",attrs:{width:"100%",type:"text",label:"Quartier ..."},model:{value:e.panneau.models.lieu_quartier,callback:function(t){e.$set(e.panneau.models,"lieu_quartier",t)},expression:"panneau.models.lieu_quartier"}}),e._v(" "),n("custom-input",{staticClass:"mt-2",attrs:{width:"100%",type:"text",label:"Latitude ..."},model:{value:e.panneau.models.lieu_lat,callback:function(t){e.$set(e.panneau.models,"lieu_lat",t)},expression:"panneau.models.lieu_lat"}}),e._v(" "),n("custom-input",{staticClass:"mt-2",attrs:{width:"100%",type:"text",label:"Longitude ..."},model:{value:e.panneau.models.lieu_lng,callback:function(t){e.$set(e.panneau.models,"lieu_lng",t)},expression:"panneau.models.lieu_lng"}}),e._v(" "),n("custom-input",{staticClass:"mt-2",attrs:{width:"100%",type:"text",label:"Lieu dit ..."},model:{value:e.panneau.models.lieu_label,callback:function(t){e.$set(e.panneau.models,"lieu_label",t)},expression:"panneau.models.lieu_label"}}),e._v(" "),n("div",{staticClass:"mt-2 duration-300"},[n("transition",{attrs:{name:"fade"}},[e.panneau.models.pan_view_vers?n("span",{staticClass:"text-xs text-indigo-600 font-bold"},[e._v(" Vue vers ... ")]):e._e()]),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.panneau.models.pan_view_vers,expression:"panneau.models.pan_view_vers"}],staticClass:"input-alt w-full ",attrs:{placeholder:"Vue vers ..."},domProps:{value:e.panneau.models.pan_view_vers},on:{input:function(t){t.target.composing||e.$set(e.panneau.models,"pan_view_vers",t.target.value)}}})],1)],1),e._v(" "),n("div",{},[n("div",{staticClass:"mb-10 mx-2  w-80"},[n("span",{staticClass:"block font-bold p-2 mb-2 bg-indigo-600 rounded text-gray-100"},[e._v(" Sociétés ")]),e._v(" "),n("c-select",{staticClass:"mt-2",attrs:{width:"100%",datas:e.regisseurs,label:"reg_label",code:"reg_id",placeholder:"Régisseurs ..."},model:{value:e.panneau.models.reg_id,callback:function(t){e.$set(e.panneau.models,"reg_id",t)},expression:"panneau.models.reg_id"}})],1),e._v(" "),n("div",{staticClass:"mx-2 w-80 mb-2"},[n("span",{staticClass:"block font-bold p-2 mb-2 bg-indigo-600 rounded-lg text-gray-100"},[e._v(" Commune urbaine ")]),e._v(" "),n("div",{staticClass:"flex flex-col"},[n("c-select",{staticClass:"mb-2",attrs:{datas:e.cu_list,label:"cu_label",code:"cu_id",placeholder:"Nom Commune Urbaine ..."},model:{value:e.panneau.models.pan_cu_id,callback:function(t){e.$set(e.panneau.models,"pan_cu_id",t)},expression:"panneau.models.pan_cu_id"}}),e._v(" "),""!=e.panneau.models.pan_cu_id?n("custom-input",{staticClass:"mb-2",attrs:{label:"Numéro d'autorisation ..."},model:{value:e.panneau.models.pan_num_auth_cu,callback:function(t){e.$set(e.panneau.models,"pan_num_auth_cu",t)},expression:"panneau.models.pan_num_auth_cu"}}):e._e(),e._v(" "),""!=e.panneau.models.pan_cu_id?n("custom-input",{attrs:{type:"date",label:"Date de l'autorisation ..."},model:{value:e.panneau.models.pan_date_auth_cu,callback:function(t){e.$set(e.panneau.models,"pan_date_auth_cu",t)},expression:"panneau.models.pan_date_auth_cu"}}):e._e()],1)]),e._v(" "),n("div",{staticClass:"mb-10 mx-2  w-80"},[n("span",{staticClass:"block font-bold p-2 mb-2 bg-indigo-600 rounded text-gray-100"},[e._v(" Image ")]),e._v(" "),n("div",{staticClass:"w-full border rounded-lg flex flex-wrap"},[e._l(e.panneau.models.pan_list_photo,(function(t,i){return n("div",{key:t,staticClass:"flex h-12 m-1 border-2 border-gray-300 rounded-lg relative"},[n("img",{staticClass:"rounded-lg",attrs:{src:e.panels_image_src[i],alt:"",srcset:""}}),e._v(" "),n("button",{staticClass:"absolute bt rounded-full w-6 h-6 justify-center items-center flex",on:{click:function(t){return t.preventDefault(),e.delete_image(i)}}},[n("span",{staticClass:"material-icons"},[e._v(" clear ")])])])})),e._v(" "),e.panels_image_src.length<5||!e.on_load_image?n("label",{staticClass:" m-2 rounded-lg flex cursor-pointer justify-center items-center w-full border-dashed border-2 h-16 border-blue-400 bg-blue-300",attrs:{for:"photo_nuit"}},[n("span",[e._v("Cliquer pour insérer une photo")])]):e._e(),e._v(" "),e.on_load_image?n("span",{staticClass:"text-indigo-600 my-2 text-xs font-semibold"},[e._v("Chargement de l'image ...")]):e._e(),e._v(" "),n("input",{staticClass:"hidden",attrs:{accept:"image/*",id:"photo_nuit",type:"file"},on:{change:function(t){return e.upload_image(t)}}})],2)])])])])]),e._v(" "),n("div",{staticClass:"flex pt-2 border-t dark:border-gray-600"},[n("div",{staticClass:"flex-grow"}),e._v(" "),n("div",{},[n("button",{class:{bt:!e.on_load_image,"bt-load":e.on_load_image},on:{click:e.postPanel}},[e._v(" "+e._s(e.on_load_image?"chargement ...":"Ajouter")+" ")])])]),e._v(" "),n("div",{staticClass:"h-16"})]),e._v(" "),n("client-only",[e.show_carte?n("insert-by-carte",{on:{close:function(t){e.show_carte=!1},validate:e.setLieu}}):e._e()],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CustomInput:n(358).default,CSelect:n(362).default,InsertByCarte:n(371).default})}}]);