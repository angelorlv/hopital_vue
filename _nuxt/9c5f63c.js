(window.webpackJsonp=window.webpackJsonp||[]).push([[133,23],{358:function(t,e,n){"use strict";n.r(e);var r={props:["label","type","id","autofocus","width","value"],data:function(){return{on_focus:!1,style:{height:40},input:{style:{},model:""}}},methods:{updateInput:function(){this.$emit("input",this.$refs.cinput.value)},focusInput:function(){this.$refs.cinput.focus()}},mounted:function(){},created:function(){}},o=n(7),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:t.input.style},[n("div",{staticClass:"text-xs duration-300 flex items-center font-bold h-4"},[n("label",{staticClass:"z-10 px-1 text-indigo-600",attrs:{for:t.id}},[t._v(" "+t._s(t.label)+" ")])]),t._v(" "),n("input",{ref:"cinput",staticClass:"input-alt w-full duration-300 text-xs",attrs:{autofocus:t.autofocus,id:t.id,type:t.type,placeholder:t.label},domProps:{value:t.value},on:{input:function(e){return t.updateInput()},focus:function(){t.on_focus=!0,t.$emit("focus")},blur:function(){t.on_focus=!1,t.$emit("blur")}}})])}),[],!1,null,"a221d83e",null);e.default=component.exports},408:function(t,e,n){var content=n(465);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(27).default)("7ec38ffa",content,!0,{sourceMap:!1})},464:function(t,e,n){"use strict";n(408)},465:function(t,e,n){var r=n(26)((function(i){return i[1]}));r.push([t.i,"/*purgecss start ignore*/\n.list-enter-active[data-v-1a661a98],.list-leave-active[data-v-1a661a98]{\n  transition:all .5s ease\n}\n.list-enter-from[data-v-1a661a98],.list-leave-to[data-v-1a661a98]{\n  opacity:0;\n  transform:translateX(30px)\n}\n\n/*purgecss end ignore*/",""]),r.locals={},t.exports=r},578:function(t,e,n){"use strict";n.r(e);var r=n(3),o=(n(25),{watch:{q_search:function(a){this.in_search?this.have_to_search=!0:this.searchPanel()}},data:function(){return{in_choose_panel:!1,q_search:"",in_search:!1,have_to_search:!1,panels:[],gros_plan:[],index:0,slide_style:{minWidth:"600px",maxWidth:"600px",height:"300px"},container_style:{width:"600px",maxWidth:"600px"}}},methods:{searchPanel:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.in_search=!0,e.prev=1,e.next=4,t.$axios.$get("api/a/settings/gros-plan/panels",{params:{search:t.q_search}});case 4:n=e.sent,t.in_search=!1,n.status?(t.panels=n.panels,t.have_to_search&&(t.have_to_search=!1,t.searchPanel())):t.showNotif("Erreur",n.message,!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t.showErrorConnexion();case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()},addToGrosPlans:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$axios.$post("api/a/settings/gros-plan",{id:t});case 3:(r=n.sent).status?(e.searchPanel(),e.getPanGrosPlan()):e.showNotif("Erreur",r.message,!0),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),e.showErrorConnexion();case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},getPanGrosPlan:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.$get("api/a/settings/gros-plan");case 3:(n=e.sent).status?t.gros_plan=n.gros_plan:t.showErrorConnexion(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.showErrorConnexion();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},deleteGrosPlan:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$axios.$delete("api/a/settings/gros-plan/"+t);case 3:(r=n.sent).status?(e.getPanGrosPlan(),e.index=0):e.showNotif("Erreur",r.message,!0),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),e.showErrorConnexion();case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()}},mounted:function(){this.getPanGrosPlan()}}),l=(n(464),n(7)),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[t._m(0),t._v(" "),n("div",{staticClass:"m-2 border rounded-lg p-2"},[n("div",{staticClass:"flex"},[t.in_choose_panel?n("div",{},[n("button",{staticClass:"bt-back text-sm",on:{click:function(){t.in_choose_panel=!1}}},[t._v("Annuler")])]):n("div",{},[n("button",{staticClass:"bt text-sm",on:{click:function(e){t.in_choose_panel=!0}}},[t._v("Ajouter un panneau dans la liste des gros plans")])])]),t._v(" "),t.in_choose_panel?n("div",{staticClass:"mt-2 bg-gray-50 border rounded-lg"},[n("custom-input",{staticClass:"m-1",attrs:{label:"Rechercher par nom régisseur, annonceur, ville, "},model:{value:t.q_search,callback:function(e){t.q_search=e},expression:"q_search"}}),t._v(" "),n("div",{staticClass:"overflow-auto p-2 flex flex-col",staticStyle:{"max-height":"300px"}},[t.in_search?n("div",{staticClass:"flex p-2 justify-center items-center"},[n("span",{staticClass:"text-sm"},[t._v(" Recherche ... ")])]):t._e(),t._v(" "),t._l(t.panels,(function(p){return n("div",{key:p.pan_id,staticClass:"border rounded-lg mb-2 flex items-center hover:bg-gray-100"},[n("div",{}),t._v(" "),n("div",{staticClass:"flex flex-col p-2"},[n("span",{staticClass:"text-sm font-bold"},[t._v(" "+t._s(p.pan_ref)+" ")]),t._v(" "),n("span",{staticClass:"text-xs"},[t._v(" "+t._s(p.lieu_label)+" ")])]),t._v(" "),n("span",{staticClass:"flex-grow"}),t._v(" "),n("button",{staticClass:"text-sm bt",on:{click:function(){t.addToGrosPlans(p.pan_id)}}},[t._v("Ajouter")])])}))],2)],1):t._e()]),t._v(" "),n("div",{staticClass:"mt-5 w-full flex flex-col justify-center items-center"},[n("span",{staticClass:"text-sm"},[t._v(" Prévisualisation de l'affichage des gros plan  ["+t._s(t.gros_plan.length)+"] index : "+t._s(t.index)+" ")]),t._v(" "),n("div",{staticClass:"overflow-hidden relative ",style:t.container_style},[n("div",{staticClass:"flex  justify-center w-full"},t._l(t.gros_plan,(function(e,i){return n("div",{directives:[{name:"show",rawName:"v-show",value:t.index==i,expression:"index == i"}],key:e.gp_id,staticClass:"relative flex-wrap h-full my-2",style:t.slide_style},[e.image_id?n("div",{staticClass:"h-full rounded-lg flex justify-center items-center w-full",staticStyle:{"max-height":"300px"}},[n("img",{staticClass:"rounded-lg w-full h-full object-cover",attrs:{src:"/api/p/media/"+e.name_file,alt:""}})]):n("div",{staticClass:"h-full rounded-lg flex justify-center items-center bg-gray-100"},[n("span",{staticClass:"text-4xl material-icons"},[t._v("image")])]),t._v(" "),n("div",{staticClass:"absolute border shadow-lg bg-gray-100 px-2 py-1 rounded-full text-gray-700 bottom-2 left-2"},[n("span",{},[t._v(t._s(e.lieu_label))])]),t._v(" "),n("button",{staticClass:"bt-prev-next text-sm top-2 right-2 absolute ",on:{click:function(n){return t.deleteGrosPlan(e.gp_id)}}},[n("span",{staticClass:"material-icons"},[t._v("clear")])])])})),0),t._v(" "),n("button",{staticClass:"bt-prev-next absolute  top-1/2",on:{click:function(){t.index--,t.index=t.index<0?t.gros_plan.length-1:t.index}}},[n("span",{staticClass:"material-icons"},[t._v(" navigate_before ")])]),t._v(" "),n("button",{staticClass:"bt-prev-next absolute top-1/2 bottom-0 right-0",on:{click:function(){t.index++,t.index=t.index>t.gros_plan.length-1?0:t.index}}},[n("span",{staticClass:"material-icons"},[t._v(" navigate_next ")])])])])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-2"},[n("span",{staticClass:"text-sm"},[t._v("Gestion du design et des contenus des gros plans d'emplacements dans l'accueil")])])}],!1,null,"1a661a98",null);e.default=component.exports;installComponents(component,{CustomInput:n(358).default})}}]);